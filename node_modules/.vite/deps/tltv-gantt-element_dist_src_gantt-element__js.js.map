{
  "version": 3,
  "sources": ["../../date-fns/_lib/requiredArgs/index.js", "../../date-fns/isDate/index.js", "../../date-fns/toDate/index.js", "../../date-fns/isValid/index.js", "../../date-fns/_lib/toInteger/index.js", "../../date-fns/addMilliseconds/index.js", "../../date-fns/subMilliseconds/index.js", "../../date-fns/_lib/getUTCDayOfYear/index.js", "../../date-fns/_lib/startOfUTCISOWeek/index.js", "../../date-fns/_lib/getUTCISOWeekYear/index.js", "../../date-fns/_lib/startOfUTCISOWeekYear/index.js", "../../date-fns/_lib/getUTCISOWeek/index.js", "../../date-fns/_lib/defaultOptions/index.js", "../../date-fns/_lib/startOfUTCWeek/index.js", "../../date-fns/_lib/getUTCWeekYear/index.js", "../../date-fns/_lib/startOfUTCWeekYear/index.js", "../../date-fns/_lib/getUTCWeek/index.js", "../../date-fns/_lib/addLeadingZeros/index.js", "../../date-fns/_lib/format/lightFormatters/index.js", "../../date-fns/_lib/format/formatters/index.js", "../../date-fns/_lib/format/longFormatters/index.js", "../../date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js", "../../date-fns/_lib/protectedTokens/index.js", "../../date-fns/locale/en-US/_lib/formatDistance/index.js", "../../date-fns/locale/_lib/buildFormatLongFn/index.js", "../../date-fns/locale/en-US/_lib/formatLong/index.js", "../../date-fns/locale/en-US/_lib/formatRelative/index.js", "../../date-fns/locale/_lib/buildLocalizeFn/index.js", "../../date-fns/locale/en-US/_lib/localize/index.js", "../../date-fns/locale/_lib/buildMatchFn/index.js", "../../date-fns/locale/_lib/buildMatchPatternFn/index.js", "../../date-fns/locale/en-US/_lib/match/index.js", "../../date-fns/locale/en-US/index.js", "../../date-fns/_lib/defaultLocale/index.js", "../../date-fns/format/index.js", "../../date-fns/_lib/assign/index.js", "../../date-fns/_lib/cloneObject/index.js", "../../tltv-timeline-element/src/model/Resolution.ts", "../../tltv-timeline-element/src/util/elementUtil.ts", "../../tltv-gantt-element/src/gantt-timeline-mixin.ts", "../../date-fns-tz/esm/format/index.js", "../../date-fns-tz/esm/_lib/tzIntlTimeZoneName/index.js", "../../date-fns-tz/esm/_lib/tzTokenizeDate/index.js", "../../date-fns-tz/esm/_lib/newDateUTC/index.js", "../../date-fns-tz/esm/_lib/tzParseTimezone/index.js", "../../date-fns-tz/esm/format/formatters/index.js", "../../date-fns-tz/esm/toDate/index.js", "../../date-fns-tz/esm/_lib/tzPattern/index.js", "../../date-fns-tz/esm/formatInTimeZone/index.js", "../../date-fns-tz/esm/utcToZonedTime/index.js", "../../date-fns-tz/esm/zonedTimeToUtc/index.js", "../../tltv-gantt-element/src/gantt-step-base.ts", "../../tltv-gantt-element/src/gantt-substeps-base.ts", "../../tltv-gantt-element/src/gantt-step-element.ts", "../../tltv-gantt-element/src/util/ganttUtil.ts", "../../tltv-timeline-element/src/model/Weekday.ts", "../../tltv-timeline-element/src/model/blockRowData.ts", "../../tltv-timeline-element/src/util/dateTimeUtil.ts", "../../tltv-timeline-element/src/model/DefaultLocaleDataProvider.ts", "../../date-fns/esm/startOfWeek/index.js", "../../date-fns/esm/startOfISOWeek/index.js", "../../date-fns/esm/getISOWeekYear/index.js", "../../date-fns/esm/startOfISOWeekYear/index.js", "../../date-fns/esm/formatDistanceStrict/index.js", "../../date-fns/esm/getISOWeek/index.js", "../../date-fns/esm/getOverlappingDaysInIntervals/index.js", "../../tltv-timeline-element/src/timeline-element.ts", "../../tltv-gantt-element/src/gantt-scroller-mixin.ts", "../../tltv-gantt-element/src/gantt-steps-base.ts", "../../tltv-gantt-element/src/gantt-events-base.ts", "../../tltv-gantt-element/src/css-background-grid-mixin.ts", "../../tltv-gantt-element/src/gantt-element.ts"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = requiredArgs;\n\nfunction requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDate;\n\nvar _index = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nfunction isDate(value) {\n  (0, _index.default)(1, arguments);\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toDate;\n\nvar _index = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nfunction toDate(argument) {\n  (0, _index.default)(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isValid;\n\nvar _index = _interopRequireDefault(require(\"../isDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nfunction isValid(dirtyDate) {\n  (0, _index3.default)(1, arguments);\n\n  if (!(0, _index.default)(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n\n  var date = (0, _index2.default)(dirtyDate);\n  return !isNaN(Number(date));\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInteger;\n\nfunction toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = addMilliseconds;\n\nvar _index = _interopRequireDefault(require(\"../_lib/toInteger/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nfunction addMilliseconds(dirtyDate, dirtyAmount) {\n  (0, _index3.default)(2, arguments);\n  var timestamp = (0, _index2.default)(dirtyDate).getTime();\n  var amount = (0, _index.default)(dirtyAmount);\n  return new Date(timestamp + amount);\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = subMilliseconds;\n\nvar _index = _interopRequireDefault(require(\"../addMilliseconds/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/toInteger/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nfunction subMilliseconds(dirtyDate, dirtyAmount) {\n  (0, _index2.default)(2, arguments);\n  var amount = (0, _index3.default)(dirtyAmount);\n  return (0, _index.default)(dirtyDate, -amount);\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCDayOfYear;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_DAY = 86400000;\n\nfunction getUTCDayOfYear(dirtyDate) {\n  (0, _index2.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCISOWeek;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction startOfUTCISOWeek(dirtyDate) {\n  (0, _index2.default)(1, arguments);\n  var weekStartsOn = 1;\n  var date = (0, _index.default)(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCISOWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCISOWeek/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getUTCISOWeekYear(dirtyDate) {\n  (0, _index2.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = (0, _index3.default)(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = (0, _index3.default)(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCISOWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../getUTCISOWeekYear/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../startOfUTCISOWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction startOfUTCISOWeekYear(dirtyDate) {\n  (0, _index3.default)(1, arguments);\n  var year = (0, _index.default)(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = (0, _index2.default)(fourthOfJanuary);\n  return date;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCISOWeek;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../startOfUTCISOWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCISOWeekYear/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_WEEK = 604800000;\n\nfunction getUTCISOWeek(dirtyDate) {\n  (0, _index4.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var diff = (0, _index2.default)(date).getTime() - (0, _index3.default)(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDefaultOptions = getDefaultOptions;\nexports.setDefaultOptions = setDefaultOptions;\nvar defaultOptions = {};\n\nfunction getDefaultOptions() {\n  return defaultOptions;\n}\n\nfunction setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCWeek;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../toInteger/index.js\"));\n\nvar _index4 = require(\"../defaultOptions/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  (0, _index2.default)(1, arguments);\n  var defaultOptions = (0, _index4.getDefaultOptions)();\n  var weekStartsOn = (0, _index3.default)((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = (0, _index.default)(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCWeek/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../toInteger/index.js\"));\n\nvar _index5 = require(\"../defaultOptions/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  (0, _index2.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = (0, _index5.getDefaultOptions)();\n  var firstWeekContainsDate = (0, _index4.default)((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = (0, _index3.default)(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = (0, _index3.default)(firstWeekOfThisYear, options);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../getUTCWeekYear/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCWeek/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../toInteger/index.js\"));\n\nvar _index5 = require(\"../defaultOptions/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  (0, _index2.default)(1, arguments);\n  var defaultOptions = (0, _index5.getDefaultOptions)();\n  var firstWeekContainsDate = (0, _index4.default)((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = (0, _index.default)(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = (0, _index3.default)(firstWeek, options);\n  return date;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCWeek;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../startOfUTCWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCWeekYear/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_WEEK = 604800000;\n\nfunction getUTCWeek(dirtyDate, options) {\n  (0, _index4.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var diff = (0, _index2.default)(date, options).getTime() - (0, _index3.default)(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = addLeadingZeros;\n\nfunction addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../addLeadingZeros/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\nvar formatters = {\n  // Year\n  y: function y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return (0, _index.default)(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : (0, _index.default)(month + 1, 2);\n  },\n  // Day of the month\n  d: function d(date, token) {\n    return (0, _index.default)(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaa':\n        return dayPeriodEnumValue;\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token) {\n    return (0, _index.default)(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function H(date, token) {\n    return (0, _index.default)(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function m(date, token) {\n    return (0, _index.default)(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function s(date, token) {\n    return (0, _index.default)(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return (0, _index.default)(fractionalSeconds, token.length);\n  }\n};\nvar _default = formatters;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../../_lib/getUTCDayOfYear/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../../../_lib/getUTCISOWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../../../_lib/getUTCISOWeekYear/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../../../_lib/getUTCWeek/index.js\"));\n\nvar _index5 = _interopRequireDefault(require(\"../../../_lib/getUTCWeekYear/index.js\"));\n\nvar _index6 = _interopRequireDefault(require(\"../../addLeadingZeros/index.js\"));\n\nvar _index7 = _interopRequireDefault(require(\"../lightFormatters/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\nvar formatters = {\n  // Era\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function y(date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return _index7.default.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = (0, _index5.default)(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return (0, _index6.default)(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return (0, _index6.default)(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function R(date, token) {\n    var isoWeekYear = (0, _index3.default)(date); // Padding\n\n    return (0, _index6.default)(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return (0, _index6.default)(year, token.length);\n  },\n  // Quarter\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return (0, _index6.default)(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return (0, _index6.default)(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return _index7.default.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return (0, _index6.default)(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function w(date, token, localize, options) {\n    var week = (0, _index4.default)(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return (0, _index6.default)(week, token.length);\n  },\n  // ISO week of year\n  I: function I(date, token, localize) {\n    var isoWeek = (0, _index2.default)(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return (0, _index6.default)(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return _index7.default.d(date, token);\n  },\n  // Day of year\n  D: function D(date, token, localize) {\n    var dayOfYear = (0, _index.default)(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return (0, _index6.default)(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return (0, _index6.default)(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return (0, _index6.default)(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return (0, _index6.default)(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return _index7.default.h(date, token);\n  },\n  // Hour [0-23]\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return _index7.default.H(date, token);\n  },\n  // Hour [0-11]\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return (0, _index6.default)(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return (0, _index6.default)(hours, token.length);\n  },\n  // Minute\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return _index7.default.m(date, token);\n  },\n  // Second\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return _index7.default.s(date, token);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    return _index7.default.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return (0, _index6.default)(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return (0, _index6.default)(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + (0, _index6.default)(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + (0, _index6.default)(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = (0, _index6.default)(Math.floor(absOffset / 60), 2);\n  var minutes = (0, _index6.default)(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nvar _default = formatters;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n};\n\nvar timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n};\n\nvar dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n};\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nvar _default = longFormatters;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getTimezoneOffsetInMilliseconds;\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nfunction getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isProtectedDayOfYearToken = isProtectedDayOfYearToken;\nexports.isProtectedWeekYearToken = isProtectedWeekYearToken;\nexports.throwProtectedError = throwProtectedError;\nvar protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\n\nfunction isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\n\nfunction isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\n\nfunction throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  }\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\n\nvar formatDistance = function formatDistance(token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n};\n\nvar _default = formatDistance;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildFormatLongFn;\n\nfunction buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../../_lib/buildFormatLongFn/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: (0, _index.default)({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: (0, _index.default)({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: (0, _index.default)({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nvar _default = formatLong;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\n\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\n\nvar _default = formatRelative;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildLocalizeFn;\n\nfunction buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex; // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n\n    return valuesArray[index];\n  };\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../../_lib/buildLocalizeFn/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n}; // Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\n\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n};\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: (0, _index.default)({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: (0, _index.default)({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: (0, _index.default)({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: (0, _index.default)({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: (0, _index.default)({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nvar _default = localize;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMatchFn;\n\nfunction buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMatchPatternFn;\n\nfunction buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../../_lib/buildMatchFn/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../../../_lib/buildMatchPatternFn/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: (0, _index2.default)({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: (0, _index.default)({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: (0, _index.default)({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: (0, _index.default)({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: (0, _index.default)({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: (0, _index.default)({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nvar _default = match;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"./_lib/formatDistance/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"./_lib/formatLong/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"./_lib/formatRelative/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"./_lib/localize/index.js\"));\n\nvar _index5 = _interopRequireDefault(require(\"./_lib/match/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: _index.default,\n  formatLong: _index2.default,\n  formatRelative: _index3.default,\n  localize: _index4.default,\n  match: _index5.default,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nvar _default = locale;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../locale/en-US/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = _index.default;\nexports.default = _default;\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = format;\n\nvar _index = _interopRequireDefault(require(\"../isValid/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../subMilliseconds/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../_lib/format/formatters/index.js\"));\n\nvar _index5 = _interopRequireDefault(require(\"../_lib/format/longFormatters/index.js\"));\n\nvar _index6 = _interopRequireDefault(require(\"../_lib/getTimezoneOffsetInMilliseconds/index.js\"));\n\nvar _index7 = require(\"../_lib/protectedTokens/index.js\");\n\nvar _index8 = _interopRequireDefault(require(\"../_lib/toInteger/index.js\"));\n\nvar _index9 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nvar _index10 = require(\"../_lib/defaultOptions/index.js\");\n\nvar _index11 = _interopRequireDefault(require(\"../_lib/defaultLocale/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nfunction format(dirtyDate, dirtyFormatStr, options) {\n  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\n\n  (0, _index9.default)(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var defaultOptions = (0, _index10.getDefaultOptions)();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : _index11.default;\n  var firstWeekContainsDate = (0, _index8.default)((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var weekStartsOn = (0, _index8.default)((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = (0, _index3.default)(dirtyDate);\n\n  if (!(0, _index.default)(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = (0, _index6.default)(originalDate);\n  var utcDate = (0, _index2.default)(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = _index5.default[firstCharacter];\n      return longFormatter(substring, locale.formatLong);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = _index4.default[firstCharacter];\n\n    if (formatter) {\n      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && (0, _index7.isProtectedWeekYearToken)(substring)) {\n        (0, _index7.throwProtectedError)(substring, dirtyFormatStr, String(dirtyDate));\n      }\n\n      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && (0, _index7.isProtectedDayOfYearToken)(substring)) {\n        (0, _index7.throwProtectedError)(substring, dirtyFormatStr, String(dirtyDate));\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  var matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assign;\n\nfunction assign(target, object) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n\n  for (var property in object) {\n    if (Object.prototype.hasOwnProperty.call(object, property)) {\n      ;\n      target[property] = object[property];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = cloneObject;\n\nvar _index = _interopRequireDefault(require(\"../assign/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction cloneObject(object) {\n  return (0, _index.default)({}, object);\n}\n\nmodule.exports = exports.default;", "export enum Resolution {\r\n    Hour = 1,\r\n    Day = 2,\r\n    Week = 3\r\n}\r\n", "export function getWidth(element: HTMLElement): number {\r\n  if (!element) {\r\n    return 0.0;\r\n  }\r\n  if (element.getBoundingClientRect()) {\r\n    let rect = element.getBoundingClientRect();\r\n    return rect.right - rect.left;\r\n  } else {\r\n    return element.offsetWidth;\r\n  }\r\n}\r\n\r\nexport function getHeight(element: HTMLElement): number {\r\n  if (!element) {\r\n    return 0.0;\r\n  }\r\n  if (element.getBoundingClientRect()) {\r\n    let rect = element.getBoundingClientRect();\r\n    return rect.bottom - rect.top;\r\n  } else {\r\n    return element.offsetHeight;\r\n  }\r\n}\r\n\r\nexport function getRight(element: HTMLElement): number {\r\n  if (!element) {\r\n    return 0.0;\r\n  }\r\n  if (element.getBoundingClientRect()) {\r\n    var rect = element.getBoundingClientRect();\r\n    return rect.right;\r\n  } else {\r\n    return element.offsetLeft + element.offsetWidth;\r\n  }\r\n}\r\n\r\nexport function getLeft(element: HTMLElement): number {\r\n  if (!element) {\r\n    return 0.0;\r\n  }\r\n  if (element.getBoundingClientRect()) {\r\n    var rect = element.getBoundingClientRect();\r\n    return rect.left;\r\n  } else {\r\n    return element.offsetLeft;\r\n  }\r\n}\r\n", "import { LitElement, html } from 'lit';\r\nimport { query } from 'lit-element/decorators.js';\r\nimport { TimelineElement } from 'tltv-timeline-element/dist/src/timeline-element.js';\r\n\r\ntype Constructor<T = object> = {\r\n    new(...args: any[]): T;\r\n    prototype: T;\r\n};\r\n\r\nexport interface GanttTimelineInterface {\r\n    _timeline: TimelineElement;\r\n    \r\n    getTimeline(): Promise<TimelineElement>;\r\n    getTimeZone(): string;\r\n}\r\n\r\nexport const GanttTimelineMixin = <T extends Constructor<LitElement>>(\r\n    base: T\r\n): T & Constructor<GanttTimelineInterface> => {\r\n    class GanttTimelineMixin extends base implements GanttTimelineInterface {\r\n\r\n        @query('#timeline')\r\n        _timeline: TimelineElement;\r\n\r\n        public async getTimeline(): Promise<TimelineElement> {\r\n            let continueWhenTimelineReady = function (resolve: any, isReady: Function, notReady: Function) {\r\n                requestAnimationFrame(() => (isReady()) ? resolve() : notReady(resolve, notReady));\r\n            }\r\n            await new Promise((resolve) => requestAnimationFrame(() => continueWhenTimelineReady(resolve, () => this._timeline, continueWhenTimelineReady)));\r\n            return this._timeline;\r\n        }\r\n\r\n        public getTimeZone(): string {\r\n            return this._timeline.getAttribute(\"timezone\");\r\n        }\r\n    }\r\n    return GanttTimelineMixin;\r\n};", "import dateFnsFormat from 'date-fns/format/index.js'\nimport formatters from './formatters/index.js'\nimport toDate from '../toDate/index.js'\n\nvar tzFormattingTokensRegExp = /([xXOz]+)|''|'(''|[^'])+('|$)/g\n\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 8     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 8     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Su            | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aaa  | AM, PM                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 1, 2, ..., 11, 0                  |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 0001, ..., 999               |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | PDT, EST, CEST                    | 6     |\n * |                                 | zzzz    | Pacific Daylight Time             | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 05/29/1453                        | 7     |\n * |                                 | PP      | May 29, 1453                      | 7     |\n * |                                 | PPP     | May 29th, 1453                    | 7     |\n * |                                 | PPPP    | Sunday, May 29th, 1453            | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 05/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | May 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | May 29th, 1453 at ...             | 7     |\n * |                                 | PPPPpppp| Sunday, May 29th, 1453 at ...     | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are created using the Intl browser API. The output is determined by the\n *    preferred standard of the current locale (en-US by default) which may not always give the expected result.\n *    For this reason it is recommended to supply a `locale` in the format options when formatting a time zone name.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. These tokens are often confused with others. See: https://git.io/fxCyr\n *\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole\n *   library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard\n *   #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table). See [this\n *   post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link\n *   https://date-fns.org/docs/toDate}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See\n *   [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {Boolean} [options.awareOfUnicodeTokens=false] - if true, allows usage of Unicode tokens causes confusion:\n *   - Some of the day of year tokens (`D`, `DD`) that are confused with the day of month tokens (`d`, `dd`).\n *   - Some of the local week-numbering year tokens (`YY`, `YYYY`) that are confused with the calendar year tokens\n *   (`yy`, `yyyy`). See: https://git.io/fxCyr\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\n * @param {Date|Number} [options.originalDate] - can be used to pass the original unmodified date to `format` to\n *   improve correctness of the replaced timezone token close to the DST threshold.\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} `options.awareOfUnicodeTokens` must be set to `true` to use `XX` token; see:\n *   https://git.io/fxCyr\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport default function format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  var formatStr = String(dirtyFormatStr)\n  var options = dirtyOptions || {}\n\n  var matches = formatStr.match(tzFormattingTokensRegExp)\n  if (matches) {\n    var date = toDate(options.originalDate || dirtyDate, options)\n    // Work through each match and replace the tz token in the format string with the quoted\n    // formatted time zone so the remaining tokens can be filled in by date-fns#format.\n    formatStr = matches.reduce(function (result, token) {\n      if (token[0] === \"'\") {\n        return result // This is a quoted portion, matched only to ensure we don't match inside it\n      }\n      var pos = result.indexOf(token)\n      var precededByQuotedSection = result[pos - 1] === \"'\"\n      var replaced = result.replace(\n        token,\n        \"'\" + formatters[token[0]](date, token, null, options) + \"'\"\n      )\n      // If the replacement results in two adjoining quoted strings, the back to back quotes\n      // are removed, so it doesn't look like an escaped quote.\n      return precededByQuotedSection\n        ? replaced.substring(0, pos - 1) + replaced.substring(pos + 1)\n        : replaced\n    }, formatStr)\n  }\n\n  return dateFnsFormat(dirtyDate, formatStr, options)\n}\n", "/**\n * Returns the formatted time zone name of the provided `timeZone` or the current\n * system time zone if omitted, accounting for DST according to the UTC value of\n * the date.\n */\nexport default function tzIntlTimeZoneName(length, date, options) {\n  var dtf = getDTF(length, options.timeZone, options.locale)\n  return dtf.formatToParts ? partsTimeZone(dtf, date) : hackyTimeZone(dtf, date)\n}\n\nfunction partsTimeZone(dtf, date) {\n  var formatted = dtf.formatToParts(date)\n\n  for (var i = formatted.length - 1; i >= 0; --i) {\n    if (formatted[i].type === 'timeZoneName') {\n      return formatted[i].value\n    }\n  }\n}\n\nfunction hackyTimeZone(dtf, date) {\n  var formatted = dtf.format(date).replace(/\\u200E/g, '')\n  var tzNameMatch = / [\\w-+ ]+$/.exec(formatted)\n  return tzNameMatch ? tzNameMatch[0].substr(1) : ''\n}\n\n// If a locale has been provided `en-US` is used as a fallback in case it is an\n// invalid locale, otherwise the locale is left undefined to use the system locale.\nfunction getDTF(length, timeZone, locale) {\n  if (locale && !locale.code) {\n    throw new Error(\n      \"date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`\"\n    )\n  }\n  return new Intl.DateTimeFormat(locale ? [locale.code, 'en-US'] : undefined, {\n    timeZone: timeZone,\n    timeZoneName: length,\n  })\n}\n", "/**\r\n * Returns the [year, month, day, hour, minute, seconds] tokens of the provided\r\n * `date` as it will be rendered in the `timeZone`.\r\n */\r\nexport default function tzTokenizeDate(date, timeZone) {\r\n  var dtf = getDateTimeFormat(timeZone)\r\n  return dtf.formatToParts ? partsOffset(dtf, date) : hackyOffset(dtf, date)\r\n}\r\n\r\nvar typeToPos = {\r\n  year: 0,\r\n  month: 1,\r\n  day: 2,\r\n  hour: 3,\r\n  minute: 4,\r\n  second: 5,\r\n}\r\n\r\nfunction partsOffset(dtf, date) {\r\n  try {\r\n    var formatted = dtf.formatToParts(date)\r\n    var filled = []\r\n    for (var i = 0; i < formatted.length; i++) {\r\n      var pos = typeToPos[formatted[i].type]\r\n\r\n      if (pos >= 0) {\r\n        filled[pos] = parseInt(formatted[i].value, 10)\r\n      }\r\n    }\r\n    return filled\r\n  } catch (error) {\r\n    if (error instanceof RangeError) {\r\n      return [NaN]\r\n    }\r\n    throw error\r\n  }\r\n}\r\n\r\nfunction hackyOffset(dtf, date) {\r\n  var formatted = dtf.format(date)\r\n  var parsed = /(\\d+)\\/(\\d+)\\/(\\d+),? (\\d+):(\\d+):(\\d+)/.exec(formatted)\r\n  // var [, fMonth, fDay, fYear, fHour, fMinute, fSecond] = parsed\r\n  // return [fYear, fMonth, fDay, fHour, fMinute, fSecond]\r\n  return [parsed[3], parsed[1], parsed[2], parsed[4], parsed[5], parsed[6]]\r\n}\r\n\r\n// Get a cached Intl.DateTimeFormat instance for the IANA `timeZone`. This can be used\r\n// to get deterministic local date/time output according to the `en-US` locale which\r\n// can be used to extract local time parts as necessary.\r\nvar dtfCache = {}\r\nfunction getDateTimeFormat(timeZone) {\r\n  if (!dtfCache[timeZone]) {\r\n    // New browsers use `hourCycle`, IE and Chrome <73 does not support it and uses `hour12`\r\n    var testDateFormatted = new Intl.DateTimeFormat('en-US', {\r\n      hourCycle: 'h23',\r\n      timeZone: 'America/New_York',\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit',\r\n    }).format(new Date('2014-06-25T04:00:00.123Z'))\r\n    var hourCycleSupported =\r\n      testDateFormatted === '06/25/2014, 00:00:00' ||\r\n      testDateFormatted === '‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00'\r\n\r\n    dtfCache[timeZone] = hourCycleSupported\r\n      ? new Intl.DateTimeFormat('en-US', {\r\n          hourCycle: 'h23',\r\n          timeZone: timeZone,\r\n          year: 'numeric',\r\n          month: 'numeric',\r\n          day: '2-digit',\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n          second: '2-digit',\r\n        })\r\n      : new Intl.DateTimeFormat('en-US', {\r\n          hour12: false,\r\n          timeZone: timeZone,\r\n          year: 'numeric',\r\n          month: 'numeric',\r\n          day: '2-digit',\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n          second: '2-digit',\r\n        })\r\n  }\r\n  return dtfCache[timeZone]\r\n}\r\n", "/**\n * Use instead of `new Date(Date.UTC(...))` to support years below 100 which doesn't work\n * otherwise due to the nature of the\n * [`Date` constructor](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date#interpretation_of_two-digit_years.\n *\n * For `Date.UTC(...)`, use `newDateUTC(...).getTime()`.\n */\nexport default function newDateUTC(fullYear, month, day, hour, minute, second, millisecond) {\n  var utcDate = new Date(0)\n  utcDate.setUTCFullYear(fullYear, month, day)\n  utcDate.setUTCHours(hour, minute, second, millisecond)\n  return utcDate\n}\n", "import tzTokenizeDate from '../tzTokenizeDate/index.js'\r\nimport newDateUTC from '../newDateUTC/index.js'\r\n\r\nvar MILLISECONDS_IN_HOUR = 3600000\r\nvar MILLISECONDS_IN_MINUTE = 60000\r\n\r\nvar patterns = {\r\n  timezone: /([Z+-].*)$/,\r\n  timezoneZ: /^(Z)$/,\r\n  timezoneHH: /^([+-]\\d{2})$/,\r\n  timezoneHHMM: /^([+-])(\\d{2}):?(\\d{2})$/,\r\n}\r\n\r\n// Parse various time zone offset formats to an offset in milliseconds\r\nexport default function tzParseTimezone(timezoneString, date, isUtcDate) {\r\n  var token\r\n  var absoluteOffset\r\n\r\n  // Empty string\r\n  if (!timezoneString) {\r\n    return 0\r\n  }\r\n\r\n  // Z\r\n  token = patterns.timezoneZ.exec(timezoneString)\r\n  if (token) {\r\n    return 0\r\n  }\r\n\r\n  var hours\r\n\r\n  // ±hh\r\n  token = patterns.timezoneHH.exec(timezoneString)\r\n  if (token) {\r\n    hours = parseInt(token[1], 10)\r\n\r\n    if (!validateTimezone(hours)) {\r\n      return NaN\r\n    }\r\n\r\n    return -(hours * MILLISECONDS_IN_HOUR)\r\n  }\r\n\r\n  // ±hh:mm or ±hhmm\r\n  token = patterns.timezoneHHMM.exec(timezoneString)\r\n  if (token) {\r\n    hours = parseInt(token[2], 10)\r\n    var minutes = parseInt(token[3], 10)\r\n\r\n    if (!validateTimezone(hours, minutes)) {\r\n      return NaN\r\n    }\r\n\r\n    absoluteOffset = Math.abs(hours) * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE\r\n    return token[1] === '+' ? -absoluteOffset : absoluteOffset\r\n  }\r\n\r\n  // IANA time zone\r\n  if (isValidTimezoneIANAString(timezoneString)) {\r\n    date = new Date(date || Date.now())\r\n    var utcDate = isUtcDate ? date : toUtcDate(date)\r\n\r\n    var offset = calcOffset(utcDate, timezoneString)\r\n\r\n    var fixedOffset = isUtcDate ? offset : fixOffset(date, offset, timezoneString)\r\n\r\n    return -fixedOffset\r\n  }\r\n\r\n  return NaN\r\n}\r\n\r\nfunction toUtcDate(date) {\r\n  return newDateUTC(\r\n    date.getFullYear(),\r\n    date.getMonth(),\r\n    date.getDate(),\r\n    date.getHours(),\r\n    date.getMinutes(),\r\n    date.getSeconds(),\r\n    date.getMilliseconds()\r\n  )\r\n}\r\n\r\nfunction calcOffset(date, timezoneString) {\r\n  var tokens = tzTokenizeDate(date, timezoneString)\r\n\r\n  // ms dropped because it's not provided by tzTokenizeDate\r\n  var asUTC = newDateUTC(\r\n    tokens[0],\r\n    tokens[1] - 1,\r\n    tokens[2],\r\n    tokens[3] % 24,\r\n    tokens[4],\r\n    tokens[5],\r\n    0\r\n  ).getTime()\r\n\r\n  var asTS = date.getTime()\r\n  var over = asTS % 1000\r\n  asTS -= over >= 0 ? over : 1000 + over\r\n  return asUTC - asTS\r\n}\r\n\r\nfunction fixOffset(date, offset, timezoneString) {\r\n  var localTS = date.getTime()\r\n\r\n  // Our UTC time is just a guess because our offset is just a guess\r\n  var utcGuess = localTS - offset\r\n\r\n  // Test whether the zone matches the offset for this ts\r\n  var o2 = calcOffset(new Date(utcGuess), timezoneString)\r\n\r\n  // If so, offset didn't change, and we're done\r\n  if (offset === o2) {\r\n    return offset\r\n  }\r\n\r\n  // If not, change the ts by the difference in the offset\r\n  utcGuess -= o2 - offset\r\n\r\n  // If that gives us the local time we want, we're done\r\n  var o3 = calcOffset(new Date(utcGuess), timezoneString)\r\n  if (o2 === o3) {\r\n    return o2\r\n  }\r\n\r\n  // If it's different, we're in a hole time. The offset has changed, but we don't adjust the time\r\n  return Math.max(o2, o3)\r\n}\r\n\r\nfunction validateTimezone(hours, minutes) {\r\n  return -23 <= hours && hours <= 23 && (minutes == null || (0 <= minutes && minutes <= 59))\r\n}\r\n\r\nvar validIANATimezoneCache = {}\r\nfunction isValidTimezoneIANAString(timeZoneString) {\r\n  if (validIANATimezoneCache[timeZoneString]) return true\r\n  try {\r\n    new Intl.DateTimeFormat(undefined, { timeZone: timeZoneString })\r\n    validIANATimezoneCache[timeZoneString] = true\r\n    return true\r\n  } catch (error) {\r\n    return false\r\n  }\r\n}\r\n", "import tzIntlTimeZoneName from '../../_lib/tzIntlTimeZoneName/index.js'\nimport tzParseTimezone from '../../_lib/tzParseTimezone/index.js'\n\nvar MILLISECONDS_IN_MINUTE = 60 * 1000\n\nvar formatters = {\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, localize, options) {\n    var timezoneOffset = getTimeZoneOffset(options.timeZone, date)\n\n    if (timezoneOffset === 0) {\n      return 'Z'\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset)\n\n      // Hours, minutes and optional seconds without `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case 'XXXX':\n      case 'XX': // Hours and minutes without `:` delimeter\n        return formatTimezone(timezoneOffset)\n\n      // Hours, minutes and optional seconds with `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimeter\n      default:\n        return formatTimezone(timezoneOffset, ':')\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, localize, options) {\n    var timezoneOffset = getTimeZoneOffset(options.timeZone, date)\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset)\n\n      // Hours, minutes and optional seconds without `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case 'xxxx':\n      case 'xx': // Hours and minutes without `:` delimeter\n        return formatTimezone(timezoneOffset)\n\n      // Hours, minutes and optional seconds with `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimeter\n      default:\n        return formatTimezone(timezoneOffset, ':')\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, localize, options) {\n    var timezoneOffset = getTimeZoneOffset(options.timeZone, date)\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':')\n      // Long\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':')\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, localize, options) {\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return tzIntlTimeZoneName('short', date, options)\n      // Long\n      case 'zzzz':\n      default:\n        return tzIntlTimeZoneName('long', date, options)\n    }\n  },\n}\n\nfunction getTimeZoneOffset(timeZone, originalDate) {\n  var timeZoneOffset = timeZone\n    ? tzParseTimezone(timeZone, originalDate, true) / MILLISECONDS_IN_MINUTE\n    : originalDate.getTimezoneOffset()\n  if (Number.isNaN(timeZoneOffset)) {\n    throw new RangeError('Invalid time zone specified: ' + timeZone)\n  }\n  return timeZoneOffset\n}\n\nfunction addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : ''\n  var output = Math.abs(number).toString()\n  while (output.length < targetLength) {\n    output = '0' + output\n  }\n  return sign + output\n}\n\nfunction formatTimezone(offset, dirtyDelimeter) {\n  var delimeter = dirtyDelimeter || ''\n  var sign = offset > 0 ? '-' : '+'\n  var absOffset = Math.abs(offset)\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2)\n  var minutes = addLeadingZeros(Math.floor(absOffset % 60), 2)\n  return sign + hours + delimeter + minutes\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimeter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+'\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2)\n  }\n  return formatTimezone(offset, dirtyDelimeter)\n}\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+'\n  var absOffset = Math.abs(offset)\n  var hours = Math.floor(absOffset / 60)\n  var minutes = absOffset % 60\n  if (minutes === 0) {\n    return sign + String(hours)\n  }\n  var delimiter = dirtyDelimiter || ''\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2)\n}\n\nexport default formatters\n", "import toInteger from 'date-fns/_lib/toInteger/index.js'\nimport getTimezoneOffsetInMilliseconds from 'date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js'\nimport tzParseTimezone from '../_lib/tzParseTimezone/index.js'\nimport tzPattern from '../_lib/tzPattern/index.js'\n\nvar MILLISECONDS_IN_HOUR = 3600000\nvar MILLISECONDS_IN_MINUTE = 60000\nvar DEFAULT_ADDITIONAL_DIGITS = 2\n\nvar patterns = {\n  dateTimePattern: /^([0-9W+-]+)(T| )(.*)/,\n  datePattern: /^([0-9W+-]+)(.*)/,\n  plainTime: /:/,\n\n  // year tokens\n  YY: /^(\\d{2})$/,\n  YYY: [\n    /^([+-]\\d{2})$/, // 0 additional digits\n    /^([+-]\\d{3})$/, // 1 additional digit\n    /^([+-]\\d{4})$/, // 2 additional digits\n  ],\n  YYYY: /^(\\d{4})/,\n  YYYYY: [\n    /^([+-]\\d{4})/, // 0 additional digits\n    /^([+-]\\d{5})/, // 1 additional digit\n    /^([+-]\\d{6})/, // 2 additional digits\n  ],\n\n  // date tokens\n  MM: /^-(\\d{2})$/,\n  DDD: /^-?(\\d{3})$/,\n  MMDD: /^-?(\\d{2})-?(\\d{2})$/,\n  Www: /^-?W(\\d{2})$/,\n  WwwD: /^-?W(\\d{2})-?(\\d{1})$/,\n\n  HH: /^(\\d{2}([.,]\\d*)?)$/,\n  HHMM: /^(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n  HHMMSS: /^(\\d{2}):?(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n\n  // time zone tokens (to identify the presence of a tz)\n  timeZone: tzPattern,\n}\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If an argument is a string, the function tries to parse it.\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n * If the function cannot parse the string or the values are invalid, it returns Invalid Date.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n * All *date-fns* functions will throw `RangeError` if `options.additionalDigits` is not 0, 1, 2 or undefined.\n *\n * @param {Date|String|Number} argument - the value to convert\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = toDate('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = toDate('+02014101', {additionalDigits: 1})\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport default function toDate(argument, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present')\n  }\n\n  if (argument === null) {\n    return new Date(NaN)\n  }\n\n  var options = dirtyOptions || {}\n\n  var additionalDigits =\n    options.additionalDigits == null\n      ? DEFAULT_ADDITIONAL_DIGITS\n      : toInteger(options.additionalDigits)\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2')\n  }\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === 'object' && Object.prototype.toString.call(argument) === '[object Date]')\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime())\n  } else if (\n    typeof argument === 'number' ||\n    Object.prototype.toString.call(argument) === '[object Number]'\n  ) {\n    return new Date(argument)\n  } else if (\n    !(\n      typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]'\n    )\n  ) {\n    return new Date(NaN)\n  }\n\n  var dateStrings = splitDateString(argument)\n\n  var parseYearResult = parseYear(dateStrings.date, additionalDigits)\n  var year = parseYearResult.year\n  var restDateString = parseYearResult.restDateString\n\n  var date = parseDate(restDateString, year)\n\n  if (isNaN(date)) {\n    return new Date(NaN)\n  }\n\n  if (date) {\n    var timestamp = date.getTime()\n    var time = 0\n    var offset\n\n    if (dateStrings.time) {\n      time = parseTime(dateStrings.time)\n\n      if (isNaN(time)) {\n        return new Date(NaN)\n      }\n    }\n\n    if (dateStrings.timeZone || options.timeZone) {\n      offset = tzParseTimezone(dateStrings.timeZone || options.timeZone, new Date(timestamp + time))\n      if (isNaN(offset)) {\n        return new Date(NaN)\n      }\n    } else {\n      // get offset accurate to hour in time zones that change offset\n      offset = getTimezoneOffsetInMilliseconds(new Date(timestamp + time))\n      offset = getTimezoneOffsetInMilliseconds(new Date(timestamp + time + offset))\n    }\n\n    return new Date(timestamp + time + offset)\n  } else {\n    return new Date(NaN)\n  }\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {}\n  var parts = patterns.dateTimePattern.exec(dateString)\n  var timeString\n\n  if (!parts) {\n    parts = patterns.datePattern.exec(dateString)\n    if (parts) {\n      dateStrings.date = parts[1]\n      timeString = parts[2]\n    } else {\n      dateStrings.date = null\n      timeString = dateString\n    }\n  } else {\n    dateStrings.date = parts[1]\n    timeString = parts[3]\n  }\n\n  if (timeString) {\n    var token = patterns.timeZone.exec(timeString)\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '')\n      dateStrings.timeZone = token[1].trim()\n    } else {\n      dateStrings.time = timeString\n    }\n  }\n\n  return dateStrings\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var patternYYY = patterns.YYY[additionalDigits]\n  var patternYYYYY = patterns.YYYYY[additionalDigits]\n\n  var token\n\n  // YYYY or ±YYYYY\n  token = patterns.YYYY.exec(dateString) || patternYYYYY.exec(dateString)\n  if (token) {\n    var yearString = token[1]\n    return {\n      year: parseInt(yearString, 10),\n      restDateString: dateString.slice(yearString.length),\n    }\n  }\n\n  // YY or ±YYY\n  token = patterns.YY.exec(dateString) || patternYYY.exec(dateString)\n  if (token) {\n    var centuryString = token[1]\n    return {\n      year: parseInt(centuryString, 10) * 100,\n      restDateString: dateString.slice(centuryString.length),\n    }\n  }\n\n  // Invalid ISO-formatted year\n  return {\n    year: null,\n  }\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) {\n    return null\n  }\n\n  var token\n  var date\n  var month\n  var week\n\n  // YYYY\n  if (dateString.length === 0) {\n    date = new Date(0)\n    date.setUTCFullYear(year)\n    return date\n  }\n\n  // YYYY-MM\n  token = patterns.MM.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n\n    if (!validateDate(year, month)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, month)\n    return date\n  }\n\n  // YYYY-DDD or YYYYDDD\n  token = patterns.DDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    var dayOfYear = parseInt(token[1], 10)\n\n    if (!validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, 0, dayOfYear)\n    return date\n  }\n\n  // yyyy-MM-dd or YYYYMMDD\n  token = patterns.MMDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n    var day = parseInt(token[2], 10)\n\n    if (!validateDate(year, month, day)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, month, day)\n    return date\n  }\n\n  // YYYY-Www or YYYYWww\n  token = patterns.Www.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n\n    if (!validateWeekDate(year, week)) {\n      return new Date(NaN)\n    }\n\n    return dayOfISOWeekYear(year, week)\n  }\n\n  // YYYY-Www-D or YYYYWwwD\n  token = patterns.WwwD.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n    var dayOfWeek = parseInt(token[2], 10) - 1\n\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN)\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek)\n  }\n\n  // Invalid ISO-formatted date\n  return null\n}\n\nfunction parseTime(timeString) {\n  var token\n  var hours\n  var minutes\n\n  // hh\n  token = patterns.HH.exec(timeString)\n  if (token) {\n    hours = parseFloat(token[1].replace(',', '.'))\n\n    if (!validateTime(hours)) {\n      return NaN\n    }\n\n    return (hours % 24) * MILLISECONDS_IN_HOUR\n  }\n\n  // hh:mm or hhmm\n  token = patterns.HHMM.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseFloat(token[2].replace(',', '.'))\n\n    if (!validateTime(hours, minutes)) {\n      return NaN\n    }\n\n    return (hours % 24) * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE\n  }\n\n  // hh:mm:ss or hhmmss\n  token = patterns.HHMMSS.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseInt(token[2], 10)\n    var seconds = parseFloat(token[3].replace(',', '.'))\n\n    if (!validateTime(hours, minutes, seconds)) {\n      return NaN\n    }\n\n    return (hours % 24) * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000\n  }\n\n  // Invalid ISO-formatted time\n  return null\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  week = week || 0\n  day = day || 0\n  var date = new Date(0)\n  date.setUTCFullYear(isoWeekYear, 0, 4)\n  var fourthOfJanuaryDay = date.getUTCDay() || 7\n  var diff = week * 7 + day + 1 - fourthOfJanuaryDay\n  date.setUTCDate(date.getUTCDate() + diff)\n  return date\n}\n\n// Validation functions\n\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0)\n}\n\nfunction validateDate(year, month, date) {\n  if (month < 0 || month > 11) {\n    return false\n  }\n\n  if (date != null) {\n    if (date < 1) {\n      return false\n    }\n\n    var isLeapYear = isLeapYearIndex(year)\n    if (isLeapYear && date > DAYS_IN_MONTH_LEAP_YEAR[month]) {\n      return false\n    }\n    if (!isLeapYear && date > DAYS_IN_MONTH[month]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  if (dayOfYear < 1) {\n    return false\n  }\n\n  var isLeapYear = isLeapYearIndex(year)\n  if (isLeapYear && dayOfYear > 366) {\n    return false\n  }\n  if (!isLeapYear && dayOfYear > 365) {\n    return false\n  }\n\n  return true\n}\n\nfunction validateWeekDate(year, week, day) {\n  if (week < 0 || week > 52) {\n    return false\n  }\n\n  if (day != null && (day < 0 || day > 6)) {\n    return false\n  }\n\n  return true\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours != null && (hours < 0 || hours >= 25)) {\n    return false\n  }\n\n  if (minutes != null && (minutes < 0 || minutes >= 60)) {\n    return false\n  }\n\n  if (seconds != null && (seconds < 0 || seconds >= 60)) {\n    return false\n  }\n\n  return true\n}\n", "/** Regex to identify the presence of a time zone specifier in a date string */\nvar tzPattern = /(Z|[+-]\\d{2}(?::?\\d{2})?| UTC| [a-zA-Z]+\\/[a-zA-Z_]+(?:\\/[a-zA-Z_]+)?)$/\n\nexport default tzPattern\n", "import cloneObject from 'date-fns/_lib/cloneObject/index.js'\r\nimport format from '../format/index.js'\r\nimport utcToZonedTime from '../utcToZonedTime/index.js'\r\n\r\n/**\r\n * @name formatInTimeZone\r\n * @category Time Zone Helpers\r\n * @summary Gets the offset in milliseconds between the time zone and Universal Coordinated Time (UTC)\r\n *\r\n * @param {Date|String|Number} date - the date representing the local time / real UTC time\r\n * @param {String} timeZone - the time zone this date should be formatted for; can be an offset or IANA time zone\r\n * @param {String} formatStr - the string of tokens\r\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\r\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link\r\n *   https://date-fns.org/docs/toDate}\r\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\r\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\r\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See\r\n *   [Locale]{@link https://date-fns.org/docs/Locale}\r\n * @param {Boolean} [options.awareOfUnicodeTokens=false] - if true, allows usage of Unicode tokens causes confusion:\r\n *   - Some of the day of year tokens (`D`, `DD`) that are confused with the day of month tokens (`d`, `dd`).\r\n *   - Some of the local week-numbering year tokens (`YY`, `YYYY`) that are confused with the calendar year tokens\r\n *   (`yy`, `yyyy`). See: https://git.io/fxCyr\r\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\r\n * @returns {String} the formatted date string\r\n */\r\nexport default function formatInTimeZone(date, timeZone, formatStr, options) {\r\n  var extendedOptions = cloneObject(options)\r\n  extendedOptions.timeZone = timeZone\r\n  extendedOptions.originalDate = date\r\n  return format(utcToZonedTime(date, timeZone), formatStr, extendedOptions)\r\n}\r\n", "import tzParseTimezone from '../_lib/tzParseTimezone/index.js'\nimport toDate from '../toDate/index.js'\n\n/**\n * @name utcToZonedTime\n * @category Time Zone Helpers\n * @summary Get a date/time representing local time in a given time zone from the UTC date\n *\n * @description\n * Returns a date instance with values representing the local time in the time zone\n * specified of the UTC time from the date provided. In other words, when the new date\n * is formatted it will show the equivalent hours in the target time zone regardless\n * of the current system time zone.\n *\n * @param {Date|String|Number} date - the date with the relevant UTC time\n * @param {String} timeZone - the time zone to get local time for, can be an offset or IANA time zone\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * @returns {Date} the new date with the equivalent time in the time zone\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // In June 10am UTC is 6am in New York (-04:00)\n * const result = utcToZonedTime('2014-06-25T10:00:00.000Z', 'America/New_York')\n * //=> Jun 25 2014 06:00:00\n */\nexport default function utcToZonedTime(dirtyDate, timeZone, options) {\n  var date = toDate(dirtyDate, options)\n\n  var offsetMilliseconds = tzParseTimezone(timeZone, date, true)\n\n  var d = new Date(date.getTime() - offsetMilliseconds)\n\n  var resultDate = new Date(0)\n\n  resultDate.setFullYear(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate())\n\n  resultDate.setHours(d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds(), d.getUTCMilliseconds())\n\n  return resultDate\n}\n", "import cloneObject from 'date-fns/_lib/cloneObject/index.js'\nimport toDate from '../toDate/index.js'\nimport tzPattern from '../_lib/tzPattern/index.js'\nimport tzParseTimezone from '../_lib/tzParseTimezone/index.js'\nimport newDateUTC from '../_lib/newDateUTC/index.js'\n\n/**\n * @name zonedTimeToUtc\n * @category Time Zone Helpers\n * @summary Get the UTC date/time from a date representing local time in a given time zone\n *\n * @description\n * Returns a date instance with the UTC time of the provided date of which the values\n * represented the local time in the time zone specified. In other words, if the input\n * date represented local time in time time zone, the timestamp of the output date will\n * give the equivalent UTC of that local time regardless of the current system time zone.\n *\n * @param {Date|String|Number} date - the date with values representing the local time\n * @param {String} timeZone - the time zone of this local time, can be an offset or IANA time zone\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * @returns {Date} the new date with the equivalent time in the time zone\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // In June 10am in Los Angeles is 5pm UTC\n * const result = zonedTimeToUtc(new Date(2014, 5, 25, 10, 0, 0), 'America/Los_Angeles')\n * //=> 2014-06-25T17:00:00.000Z\n */\nexport default function zonedTimeToUtc(date, timeZone, options) {\n  if (typeof date === 'string' && !date.match(tzPattern)) {\n    var extendedOptions = cloneObject(options)\n    extendedOptions.timeZone = timeZone\n    return toDate(date, extendedOptions)\n  }\n\n  var d = toDate(date, options)\n\n  var utc = newDateUTC(\n    d.getFullYear(),\n    d.getMonth(),\n    d.getDate(),\n    d.getHours(),\n    d.getMinutes(),\n    d.getSeconds(),\n    d.getMilliseconds()\n  ).getTime()\n\n  var offsetMilliseconds = tzParseTimezone(timeZone, new Date(utc))\n\n  return new Date(utc + offsetMilliseconds)\n}\n", "import { LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\nimport { toDate, format } from 'date-fns-tz';\r\n\r\nexport class GanttStepBase extends LitElement {\r\n\r\n    @property({ reflect: true }) public caption: string;\r\n    /* Step level 'resizable' property. Gantt level 'resizableSteps' overrides this, but this property should always keep \"user's\" value. */\r\n    @property({ reflect: true, type: Boolean }) public resizable: boolean = true;\r\n    @property({ reflect: true, type: Boolean }) public movable: boolean = true;\r\n    /* Unique id. if not given, uid will match position automatically. Substep gets prefix from owner uid: <owner.uid>-<uid> */\r\n    @property() public uid: string;\r\n\r\n    /* Inclusive start Date (millisecond accuracy) */\r\n    @property({\r\n        reflect: true,\r\n        converter: {\r\n            fromAttribute: (value: string, type) => {\r\n                return toDate(value);\r\n            },\r\n            toAttribute: (value: Date, type) => {\r\n                return format(value, \"yyyy-MM-dd'T'HH:mm:ss\");\r\n            }\r\n        }\r\n    })\r\n    public start: Date;\r\n    /* Inclusive end Date (millisecond accuracy). */\r\n    @property({\r\n        reflect: true,\r\n        converter: {\r\n            fromAttribute: (value: string, type) => { \r\n              return toDate(value);\r\n            },\r\n            toAttribute: (value: Date, type) => { \r\n              return format(value, \"yyyy-MM-dd'T'HH:mm:ss\");\r\n            }\r\n        } \r\n    })\r\n    public end: Date;\r\n\r\n    @property() public backgroundColor = \"#fff\";\r\n    @property() public stepWidth = \"0px\";\r\n    @property() public stepLeft = \"0px\";\r\n    @property() public stepHeight = \"30px\";\r\n    @property() public position: number;\r\n    @property({ reflect: true, type: Boolean }) public resizing: boolean;\r\n    @property({ reflect: true, type: Boolean }) public moving: boolean;\r\n    /* Should be in sync with Gantt's 'resizableSteps' property. */\r\n    @property({ reflect: true, type: Boolean }) public resizableSteps: boolean = true;\r\n\r\n    protected updateLeft() {\r\n        this.style.setProperty('--gantt-step-left', this.stepLeft);\r\n        this.style.removeProperty(\"left\");\r\n        this.style.removeProperty('visibility');\r\n    }\r\n\r\n    protected updateWidth() {\r\n        this.style.setProperty('--gantt-step-width', this.stepWidth);\r\n        this.style.removeProperty(\"width\");\r\n    }\r\n\r\n    public getStepHeight(): number {\r\n        return parseInt(this.stepHeight, 10);\r\n    }\r\n}", "import { LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\nimport { GanttStepElement } from './gantt-step-element';\r\nimport { GanttStepBase } from './gantt-step-base';\r\nimport * as ElementUtil from 'tltv-timeline-element/dist/src/util/elementUtil.js';\r\nimport { TimelineElement } from 'tltv-timeline-element/dist/src/timeline-element.js';\r\n\r\n\r\nexport class GanttSubStepsBase extends GanttStepBase {\r\n\r\n    @property() public substep: boolean = false;\r\n    @property() public owner: GanttStepElement;\r\n\r\n    protected _substeps: Array<GanttStepElement> = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    firstUpdated(changedProperties: any) {\r\n        super.firstUpdated(changedProperties);\r\n        this._setupForSubStep();\r\n    }\r\n\r\n    handleSlotchange(e: Event) {\r\n        // handleSlotchange is called before substep's firstUpdated\r\n        let slot: HTMLSlotElement = <HTMLSlotElement>e.target;\r\n        this._substeps = slot.assignedElements({ flatten: true })\r\n                            .filter(element => element instanceof GanttStepElement)\r\n                            .map(element => <GanttStepElement>element);\r\n        this._substeps.forEach((substep, index) => {\r\n            substep._setupForSubStep();\r\n            substep.position = index;\r\n        });\r\n        if(!this._substeps.length) {\r\n            this._setupForSubStep();\r\n        }\r\n        console.log(`GanttSubStepsBase.handleSlotchange ended with ${this._substeps.length} step(s)`);\r\n    }\r\n\r\n    _setupForSubStep() {\r\n        if(this.substep = this.parentElement instanceof GanttStepElement) {\r\n            this.classList.add(\"substep\");\r\n            this.owner = this.parentElement;\r\n            this.owner.classList.add(\"has-sub-steps\");\r\n        } else {\r\n            this.classList.remove(\"has-sub-steps\");\r\n        }\r\n    }\r\n\r\n    async calculateSubStepLeft(timeline: TimelineElement) {\r\n        await this.owner.updateComplete;\r\n        let ownerStepWidth: number = ElementUtil.getWidth(this.owner);\r\n        return timeline.getLeftPositionPercentageStringForDateRange(this.start, ownerStepWidth, this.owner.start, this.owner.end);\r\n    }\r\n\r\n    async calculateSubStepWidth(timeline: TimelineElement) {\r\n        await this.owner.updateComplete;\r\n        let range: number = this.owner.end.getTime() - this.owner.start.getTime();\r\n        return timeline.getWidthPercentageStringForDateIntervalForRange(this.end.getTime() - this.start.getTime(), range);\r\n    }\r\n\r\n    public hasSubSteps() {\r\n        return this.classList.contains(\"has-sub-steps\");\r\n    }\r\n\r\n    public getSubSteps(): Array<GanttStepElement> {\r\n        return this._substeps;\r\n    }\r\n}", "import { LitElement, html, css } from 'lit';\r\nimport { property, customElement } from 'lit/decorators.js';\r\nimport { GanttElement } from './gantt-element';\r\nimport { GanttSubStepsBase } from './gantt-substeps-base';\r\n\r\n@customElement('gantt-step-element')\r\nexport class GanttStepElement extends GanttSubStepsBase {\r\n\r\n    static RESIZE_WIDTH: number = 10\r\n\r\n    static get styles() {\r\n        return css`\r\n        :host {\r\n            position: absolute;\r\n            height: var(--gantt-step-height);\r\n            z-index: 1;\r\n            -webkit-touch-callout: none;\r\n            touch-action: pan-y;\r\n            -ms-touch-action: pan-y;\r\n            -webkit-border-radius: 3px;\r\n            -moz-border-radius: 3px;\r\n            border-radius: 3px;\r\n            box-shadow: 2px 0 3px rgba(0, 0, 0, 0.14), 0 0 0 1px rgba(0, 0, 0, 0.07);\r\n            background-color: var(--gantt-step-background-color);\r\n            left: var(--gantt-step-left);\r\n            width: var(--gantt-step-width);\r\n            user-select: none;\r\n        }\r\n\r\n        :host([moving]) {\r\n            cursor: move;\r\n        }\r\n\r\n        :host([resizing]) {\r\n            cursor: e-resize;\r\n        }\r\n\r\n        .step-label {\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            margin: 3px;\r\n        }\r\n        :host(.has-sub-steps:hover) > .step-label {\r\n            width: 100%;\r\n            background-color: rgba(246, 255, 99, 0.3);\r\n            border-radius: 6px;\r\n            transform: translate(0,-22px);\r\n        }\r\n        :host(.has-sub-steps:first-child:hover) {\r\n            z-index: 2;\r\n        }\r\n        :host(.has-sub-steps:first-child:hover) > .step-label {\r\n            transform: translate(0, 22px);\r\n        }\r\n        :host(.has-sub-steps:hover) > .step-label:hover {\r\n            cursor: move;\r\n        }\r\n        :host(.has-sub-steps) {\r\n            background-color: rgba(246, 255, 99, 0.3) !important;\r\n        }\r\n        :host(.has-sub-steps) > .step-label {\r\n            position: absolute;\r\n            max-width: 100%;\r\n        }\r\n\r\n        :host([resizablesteps][resizable]:not(.has-sub-steps)):before,\r\n        :host([resizablesteps]) ::slotted(gantt-step-element[resizable]):before {\r\n            content: \"\";\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: 10px;\r\n            height: 100%;\r\n            cursor: e-resize;\r\n          }\r\n          :host([resizablesteps][resizable]:not(.has-sub-steps)):after,\r\n          :host([resizablesteps]) ::slotted(gantt-step-element[resizable]):after {\r\n              content: \"\";\r\n              position: absolute;\r\n              right: 0;\r\n              top: 0;\r\n              width: 10px;\r\n              height: 100%;\r\n              cursor: e-resize;\r\n          }\r\n          \r\n        :host(.step.invalid) {\r\n            visibility: hidden;\r\n        }\r\n        `;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    firstUpdated(changedProperties: any) {\r\n        super.firstUpdated(changedProperties);\r\n        this.classList.add(\"step\");\r\n        this.style.visibility = 'hidden';\r\n        this.style.setProperty('--gantt-step-height', this.stepHeight);\r\n        this.addEventListener('touchstart', this._handleTouchStart);\r\n        this.addEventListener('mousedown', this._handleMouseDown);\r\n    }\r\n\r\n    render() {\r\n        this.style.setProperty('--gantt-step-background-color', this.backgroundColor);\r\n        this.style.setProperty('--gantt-step-height', this.stepHeight);\r\n\r\n        return html`\r\n        <div class=\"step-label\" part=\"step-label\">${this.caption}</div>\r\n        <slot @slotchange=${this.handleSlotchange}></slot>\r\n        `;\r\n    }\r\n\r\n    update(changedProperties: any) {\r\n        if (changedProperties.has(\"start\") || changedProperties.has(\"end\")) {\r\n            this.recalculateLeft();\r\n            this.recalculateWidth();\r\n        }\r\n        if (changedProperties.has('position')) {\r\n            this.initUidByPosition();\r\n        }\r\n        super.update(changedProperties);\r\n    }\r\n\r\n    private initUidByPosition() {\r\n        if (this.uid) { return; }\r\n        if (this.substep) {\r\n            if (!this.owner.uid) {\r\n                this.ownerUidUpdated();\r\n                return;\r\n            }\r\n        }\r\n        this.updateUid();\r\n    }\r\n\r\n    async ownerUidUpdated() {\r\n        await this.owner.updateComplete;\r\n        this.uid = `${this.owner.uid}-${this.position}`;\r\n    }\r\n\r\n    private updateUid() {\r\n        this.uid = (this.substep) ? `${this.owner.uid}-${this.position}` : `${this.position}`;\r\n    }\r\n\r\n    /** Synchronize properties from the gantt that are not handled automatically and are required by css, e.g. resize icon. */\r\n    private syncPropertiesFromGantt() {\r\n        this.getGanttElement().then(gantt => {\r\n            this.resizableSteps = gantt.resizableSteps;\r\n        });\r\n    }\r\n\r\n    private recalculateLeft() {\r\n        this.getGanttElement().then(gantt => gantt.getTimeline()\r\n            .then(timeline => {\r\n                if (this.substep) {\r\n                    this.calculateSubStepLeft(timeline).then(newLeft => {\r\n                        this.stepLeft = newLeft;\r\n                        this.updateLeft();\r\n                    });\r\n                } else {\r\n                    this.stepLeft = timeline.getLeftPositionPercentageStringForDate(this.start, gantt.getContentWidth());\r\n                    this._substeps.forEach(substep => substep.refresh());\r\n                    this.updateLeft();\r\n                }\r\n            }));\r\n    }\r\n\r\n    private recalculateWidth() {\r\n        this.getGanttElement().then(gantt => gantt.getTimeline()\r\n            .then(timeline => {\r\n                if (this.substep) {\r\n                    this.calculateSubStepWidth(timeline).then(newWidth => {\r\n                        this.stepWidth = newWidth;\r\n                        this.updateWidth();\r\n                    });\r\n                } else {\r\n                    if(gantt.isContentOverflowingVertically()) {\r\n                        let rangeEnd = timeline.getDateForLeftPosition(gantt.getContentWidth());\r\n                        this.stepWidth = timeline.getWidthPercentageStringForDateIntervalForRange(this.end.getTime() - this.start.getTime(),\r\n                            rangeEnd.getTime() - timeline.internalInclusiveStartDateTime.getTime());\r\n                    } else {\r\n                        this.stepWidth = timeline.getWidthPercentageStringForDateInterval(this.end.getTime() - this.start.getTime());\r\n                    }\r\n                    this._substeps.forEach(substep => substep.refresh());\r\n                    this.updateWidth();\r\n                }\r\n                \r\n            }));\r\n    }\r\n\r\n    public refresh() {\r\n        this.syncPropertiesFromGantt();\r\n        this.recalculateLeft();\r\n        this.recalculateWidth();\r\n    }\r\n\r\n    public async getGanttElement(): Promise<GanttElement> {\r\n        let getEl = () => <GanttElement>this.parentElement;\r\n        let test = () => {\r\n            let el = <GanttElement>this.parentElement;\r\n            let result = el && el.isConnected;\r\n            return result && el.getTimeline;\r\n        };\r\n        if (this.substep) {\r\n            getEl = () => <GanttElement>this.parentElement.parentElement;\r\n            test = () => {\r\n                let el = this.parentElement;\r\n                let result = el && el.isConnected;\r\n                if(result) {\r\n                    el = el.parentElement;\r\n                    result = el && el.isConnected;\r\n                }\r\n                return result && (<GanttElement>el).getTimeline;\r\n            };\r\n        }\r\n        let continueWhenGanttReady = function (resolve: any, isReady: Function, notReady: Function) {\r\n            requestAnimationFrame(() => (isReady()) ? resolve() : notReady(resolve, isReady, notReady));\r\n        }\r\n        await new Promise((resolve) => requestAnimationFrame(() => continueWhenGanttReady(resolve, test, continueWhenGanttReady)));\r\n        return getEl();\r\n    }\r\n\r\n    private _handleTouchStart(event: TouchEvent) {\r\n        this.getGanttElement().then(gantt => gantt.handleTouchStart(event));\r\n    }\r\n\r\n    private _handleMouseDown(event: MouseEvent) {\r\n        this.getGanttElement().then(gantt => gantt.handleMouseDown(event));\r\n    }\r\n    \r\n}", "import * as ElementUtil from 'tltv-timeline-element/dist/src/util/elementUtil.js';\r\n\r\n/**\r\n * Return x and y coordinates from the given event. Supports mouse and touch event.\r\n * @param event target Event\r\n */\r\nexport function getPointForEvent(event: Event, container: HTMLDivElement): [number, number] {\r\n    if (event instanceof MouseEvent) {\r\n        return [event.pageX + container.scrollLeft, event.pageY + container.scrollTop];\r\n    } else if (event instanceof TouchEvent) {\r\n        if(event.touches.length > 0) {\r\n            return [event.touches[0].pageX + container.scrollLeft, event.touches[0].pageY + container.scrollTop];\r\n        } else if(event.changedTouches.length > 0) {\r\n            return [event.changedTouches[0].pageX + container.scrollLeft, event.changedTouches[0].pageY + container.scrollTop];\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n\r\nexport function getPageX(event: Event, container: HTMLDivElement) {\r\n    return getPointForEvent(event, container)[0];\r\n}\r\n\r\nexport function getPageY(event: Event, container: HTMLDivElement) {\r\n    return getPointForEvent(event, container)[1];\r\n}\r\n\r\nexport function getElementHeightWithMargin(div: HTMLElement): number {\r\n    let height: number = Math.round(ElementUtil.getHeight(div));\r\n    let marginHeight: number = 0;\r\n    marginHeight = getMarginByComputedStyle(div);\r\n    return height + Math.round(marginHeight);\r\n}\r\n\r\nfunction getMarginByComputedStyle(elem: HTMLElement): number {\r\n    let cs = elem.ownerDocument.defaultView.getComputedStyle(elem);\r\n    let size: number;\r\n    if (cs) {\r\n        size = parseInt(cs.getPropertyValue('margin-top'))\r\n            + parseInt(cs.getPropertyValue('margin-bottom'));\r\n    } else {\r\n        size = 0;\r\n    }\r\n    return size;\r\n}", "export enum Weekday {\r\n  First,\r\n  Between,\r\n  Last\r\n}\r\n", "export class BlockRowData {\r\n\r\n  blocks: Map<string, any> = new Map();\r\n  blockLength: Map<string, number> = new Map();\r\n\r\n  size(): number {\r\n      return this.blocks.size;\r\n  }\r\n\r\n  getBlock(key: string): any {\r\n      return this.blocks.get(key);\r\n  }\r\n\r\n  getBlockEntries(): IterableIterator<[string, any]> {\r\n      return this.blocks.entries();\r\n  }\r\n\r\n  setBlock(key: string, element: any) {\r\n      this.blocks.set(key, element);\r\n  }\r\n\r\n  getBlockLength(key: string): number {\r\n      return this.blockLength.get(key);\r\n  }\r\n\r\n  setBlockLength(key: string, length: number) {\r\n      this.blockLength.set(key, length);\r\n  }\r\n\r\n  clear() {\r\n      this.blocks.clear();\r\n      this.blockLength.clear();\r\n  }\r\n}\r\n", "import { formatInTimeZone } from 'date-fns-tz';\r\n\r\nexport class DateTimeConstants {\r\n  static readonly DAYS_IN_WEEK: number = 7;\r\n  static readonly HOURS_IN_DAY: number = 24;\r\n  static readonly DAY_INTERVAL: number = 24 * 60 * 60 * 1000;\r\n  static readonly HOUR_INTERVAL: number = 60 * 60 * 1000;\r\n}\r\n\r\nexport function atEndOfDay(date: Date): Date {\r\n  let endOfDay = new Date(date);\r\n  endOfDay.setHours(23, 59, 59, 999);\r\n  return endOfDay;\r\n}\r\n\r\nexport function atStartOfDay(date: Date): Date {\r\n  let startOfDay = new Date(date);\r\n  startOfDay.setHours(0, 0, 0, 0);\r\n  return startOfDay;\r\n}\r\n\r\nexport function atEndOfHour(date: Date): Date {\r\n  let endOfHour = new Date(date);\r\n  endOfHour.setMinutes(59, 59, 999);\r\n  return endOfHour;\r\n}\r\n\r\nexport function atStartOfHour(date: Date): Date {\r\n  let startOfHour = new Date(date);\r\n  startOfHour.setMinutes(0, 0, 0);\r\n  return startOfHour;\r\n}\r\n\r\n/** Clears Daylight saving time adjustment from the given time. */\r\nexport function toNormalDate(zonedDate: Date, adjustment: number): Date {\r\n  return new Date(zonedDate.getTime() - adjustment);\r\n}\r\n\r\nexport function adjustToMiddleOfDay(zonedDate: Date, timeZone: string): Date {\r\n  let hourStr: string = formatInTimeZone(zonedDate, timeZone, \"HH\");\r\n  let h: number = parseInt(hourStr);\r\n  let addHours: number = 12 - h;\r\n  return new Date(zonedDate.getTime() + (addHours * DateTimeConstants.HOUR_INTERVAL));\r\n}\r\n\r\nexport function getDSTAdjustedDate(previousIsDST: boolean, zonedDate: Date, dstAdjustment: number): Date {\r\n  // adjusts previously without dst adjusted date by dst\r\n  // ((date + interval) - dst )\r\n  // Note! intervals that are less or equal to dst are not supported\r\n  // currently.\r\n  let isDST: boolean = dstAdjustment > 0;\r\n  if (previousIsDST && !isDST) {\r\n    // previously added interval is shorter than the real interval.\r\n    // with 24h interval and 1h dst: real interval is 25h.\r\n    return new Date(zonedDate.getTime() + dstAdjustment);\r\n  } else if (!previousIsDST && isDST) {\r\n    // previously added interval is longer than the real interval.\r\n    // with 24h interval and 1h dst: real interval is 23h.\r\n    return new Date(zonedDate.getTime() - dstAdjustment);\r\n  }\r\n  return zonedDate;\r\n}", "import { formatInTimeZone } from 'date-fns-tz';\r\nimport { ILocaleDataProvider } from './ILocaleDataProvider';\r\n\r\nexport class DefaultLocaleDataProvider implements ILocaleDataProvider {\r\n\r\n    public locale: string = \"en-US\";\r\n    public timeZone: string = \"Europe/London\";\r\n    public twelveHourClock: boolean = false;\r\n    public firstDayOfWeek: number = 1; // sunday\r\n    public monthNames: string[] = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    public weekDayNames: string[] = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"];\r\n    public browserTimeZone: string;\r\n\r\n    _offsetCache: Map<string, number> = new Map();\r\n\r\n    constructor(locale: string, timeZone: string, firstDayOfWeek: number, twelveHourClock: boolean) {\r\n        this.locale = locale;\r\n        this.timeZone = timeZone;\r\n        this.firstDayOfWeek = firstDayOfWeek;\r\n        this.twelveHourClock = twelveHourClock;\r\n        this.browserTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n    }\r\n\r\n    getMonthNames(): string[] {\r\n        return this.monthNames;\r\n    }\r\n    getWeekdayNames(): string[] {\r\n        return this.weekDayNames;\r\n    }\r\n    getFirstDayOfWeek(): number {\r\n        return this.firstDayOfWeek;\r\n    }\r\n    formatDate(date: Date, pattern: string): string {\r\n        return formatInTimeZone(date, this.getTimeZone(), pattern);\r\n    }\r\n    formatTime(date: Date, pattern: string): string {\r\n        // formatInTimeZone is not working in all cases (date-fns-tz 2.0.0). \r\n        // E.g. following returns wrong hour when run in Browser with \"Europe/Helsinki\" timezone: \r\n        // console.log(formatInTimeZone(new Date(\"2020-03-29T01:00:00Z\"), \"Europe/Berlin\", \"HH:mm:ss XXX\"));\r\n        //  Returns \"04:00:00 +02:00\". Should be \"03:00:00 +02:00\".\r\n        return formatInTimeZone(date, this.getTimeZone(), pattern);\r\n    }\r\n    isTwelveHourClock(): boolean {\r\n        return this.twelveHourClock;\r\n    }\r\n    getLocale(): string {\r\n        return this.locale;\r\n    }\r\n    getTimeZone(): string {\r\n        return this.timeZone;\r\n    }\r\n    getDaylightAdjustment(zonedDate: Date): number {\r\n        return this._getDaylightAdjustment(zonedDate, this.getTimeZone());\r\n    }\r\n\r\n    _getDaylightAdjustment(zonedDate: Date, timezone: string): number {\r\n        let fullYear = zonedDate.getFullYear();\r\n        let janOffset = this._getOffset(fullYear, \"01\", this._offsetCache, timezone);\r\n        let julOffset = this._getOffset(fullYear, \"07\", this._offsetCache, timezone);\r\n        if(janOffset !== julOffset) {\r\n            let maxOffset = Math.max(janOffset, julOffset);\r\n            let targetOffset = this._getTimezoneOffset(zonedDate, timezone);\r\n            if(targetOffset < maxOffset) {\r\n                // This is Daylight saving time\r\n                let minOffset = Math.min(janOffset, julOffset);\r\n                return maxOffset - minOffset;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    _getDaylightSavingTime(fullYear: number, timezone: string): number {\r\n        let janOffset = this._getOffset(fullYear, \"01\", this._offsetCache, timezone);\r\n        let julOffset = this._getOffset(fullYear, \"07\", this._offsetCache, timezone);\r\n        if(janOffset !== julOffset) {\r\n            let maxOffset = Math.max(janOffset, julOffset);\r\n            let minOffset = Math.min(janOffset, julOffset);\r\n            return maxOffset - minOffset;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    isDaylightTime(zonedDate: Date): boolean {\r\n        let fullYear = zonedDate.getFullYear();\r\n        let janOffset = this._getOffset(fullYear, \"01\", this._offsetCache, this.getTimeZone());\r\n        let julOffset = this._getOffset(fullYear, \"07\", this._offsetCache, this.getTimeZone());\r\n        if(janOffset !== julOffset) {\r\n            let maxOffset = Math.max(janOffset, julOffset);\r\n            let targetOffset = this.getTimezoneOffset(zonedDate);\r\n            return targetOffset < maxOffset;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getTimezoneOffset(zonedDate: Date): number {\r\n        return this._getTimezoneOffset(zonedDate, this.getTimeZone());\r\n    }\r\n\r\n    _getTimezoneOffset(zonedDate: Date, timezone: string): number {\r\n        let offset: string = formatInTimeZone(zonedDate, timezone, \"xxx\"); // like \"+01:00\"\r\n        if (offset && offset.length === 6) {\r\n            let hour = offset[1] + offset[2];\r\n            if(hour === '24') {\r\n                hour = '00';\r\n            }\r\n            let tzOffset = (parseInt(hour) * 60) + parseInt(offset[4] + offset[5]);\r\n            if (offset[0] === '-') {\r\n                tzOffset = -1*tzOffset;\r\n            }\r\n            return tzOffset * 60000;\r\n        }\r\n        return 0;\r\n    }\r\n    _getOffset(fullYear: number, month: string, cache: Map<string, number>, timezone: string): number {\r\n        const key = `${fullYear}-${month}-${timezone}`;\r\n        if(!cache.has(key)) {\r\n            let targetDate = new Date(`${fullYear}-${month}-01T00:00:00Z`);\r\n            cache.set(key, this._getTimezoneOffset(targetDate, timezone));\r\n        }\r\n        return cache.get(key);\r\n    }\r\n}", "import toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}", "import startOfWeek from \"../startOfWeek/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of an ISO week\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  return startOfWeek(dirtyDate, {\n    weekStartsOn: 1\n  });\n}", "import toDate from \"../toDate/index.js\";\nimport startOfISOWeek from \"../startOfISOWeek/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the ISO week-numbering year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\n\nexport default function getISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  var startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  var startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getISOWeekYear from \"../getISOWeekYear/index.js\";\nimport startOfISOWeek from \"../startOfISOWeek/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of an ISO week-numbering year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\n\nexport default function startOfISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  var date = startOfISOWeek(fourthOfJanuary);\n  return date;\n}", "import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport assign from \"../_lib/assign/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_MINUTE = 1000 * 60;\nvar MINUTES_IN_DAY = 60 * 24;\nvar MINUTES_IN_MONTH = MINUTES_IN_DAY * 30;\nvar MINUTES_IN_YEAR = MINUTES_IN_DAY * 365;\n/**\n * @name formatDistanceStrict\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words, using strict units.\n * This is like `formatDistance`, but does not use helpers like 'almost', 'over',\n * 'less than' and the like.\n *\n * | Distance between dates | Result              |\n * |------------------------|---------------------|\n * | 0 ... 59 secs          | [0..59] seconds     |\n * | 1 ... 59 mins          | [1..59] minutes     |\n * | 1 ... 23 hrs           | [1..23] hours       |\n * | 1 ... 29 days          | [1..29] days        |\n * | 1 ... 11 months        | [1..11] months      |\n * | 1 ... N years          | [1..N]  years       |\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {'second'|'minute'|'hour'|'day'|'month'|'year'} [options.unit] - if specified, will force a unit\n * @param {'floor'|'ceil'|'round'} [options.roundingMethod='round'] - which way to round partial units\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.roundingMethod` must be 'floor', 'ceil' or 'round'\n * @throws {RangeError} `options.unit` must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistanceStrict(new Date(2014, 6, 2), new Date(2015, 0, 2))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00?\n * const result = formatDistanceStrict(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0)\n * )\n * //=> '15 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistanceStrict(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> '1 year ago'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, in minutes?\n * const result = formatDistanceStrict(new Date(2016, 0, 1), new Date(2015, 0, 1), {\n *   unit: 'minute'\n * })\n * //=> '525600 minutes'\n *\n * @example\n * // What is the distance from 1 January 2015\n * // to 28 January 2015, in months, rounded up?\n * const result = formatDistanceStrict(new Date(2015, 0, 28), new Date(2015, 0, 1), {\n *   unit: 'month',\n *   roundingMethod: 'ceil'\n * })\n * //=> '1 month'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistanceStrict(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> '1 jaro'\n */\n\nexport default function formatDistanceStrict(dirtyDate, dirtyBaseDate, options) {\n  var _ref, _options$locale, _options$roundingMeth;\n\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain localize.formatDistance property');\n  }\n\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var localizeOptions = assign(cloneObject(options), {\n    addSuffix: Boolean(options === null || options === void 0 ? void 0 : options.addSuffix),\n    comparison: comparison\n  });\n  var dateLeft;\n  var dateRight;\n\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n\n  var roundingMethod = String((_options$roundingMeth = options === null || options === void 0 ? void 0 : options.roundingMethod) !== null && _options$roundingMeth !== void 0 ? _options$roundingMeth : 'round');\n  var roundingMethodFn;\n\n  if (roundingMethod === 'floor') {\n    roundingMethodFn = Math.floor;\n  } else if (roundingMethod === 'ceil') {\n    roundingMethodFn = Math.ceil;\n  } else if (roundingMethod === 'round') {\n    roundingMethodFn = Math.round;\n  } else {\n    throw new RangeError(\"roundingMethod must be 'floor', 'ceil' or 'round'\");\n  }\n\n  var milliseconds = dateRight.getTime() - dateLeft.getTime();\n  var minutes = milliseconds / MILLISECONDS_IN_MINUTE;\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft); // Use DST-normalized difference in minutes for years, months and days;\n  // use regular difference in minutes for hours, minutes and seconds.\n\n  var dstNormalizedMinutes = (milliseconds - timezoneOffset) / MILLISECONDS_IN_MINUTE;\n  var defaultUnit = options === null || options === void 0 ? void 0 : options.unit;\n  var unit;\n\n  if (!defaultUnit) {\n    if (minutes < 1) {\n      unit = 'second';\n    } else if (minutes < 60) {\n      unit = 'minute';\n    } else if (minutes < MINUTES_IN_DAY) {\n      unit = 'hour';\n    } else if (dstNormalizedMinutes < MINUTES_IN_MONTH) {\n      unit = 'day';\n    } else if (dstNormalizedMinutes < MINUTES_IN_YEAR) {\n      unit = 'month';\n    } else {\n      unit = 'year';\n    }\n  } else {\n    unit = String(defaultUnit);\n  } // 0 up to 60 seconds\n\n\n  if (unit === 'second') {\n    var seconds = roundingMethodFn(milliseconds / 1000);\n    return locale.formatDistance('xSeconds', seconds, localizeOptions); // 1 up to 60 mins\n  } else if (unit === 'minute') {\n    var roundedMinutes = roundingMethodFn(minutes);\n    return locale.formatDistance('xMinutes', roundedMinutes, localizeOptions); // 1 up to 24 hours\n  } else if (unit === 'hour') {\n    var hours = roundingMethodFn(minutes / 60);\n    return locale.formatDistance('xHours', hours, localizeOptions); // 1 up to 30 days\n  } else if (unit === 'day') {\n    var days = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions); // 1 up to 12 months\n  } else if (unit === 'month') {\n    var months = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_MONTH);\n    return months === 12 && defaultUnit !== 'month' ? locale.formatDistance('xYears', 1, localizeOptions) : locale.formatDistance('xMonths', months, localizeOptions); // 1 year up to max Date\n  } else if (unit === 'year') {\n    var years = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_YEAR);\n    return locale.formatDistance('xYears', years, localizeOptions);\n  }\n\n  throw new RangeError(\"unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\");\n}", "import toDate from \"../toDate/index.js\";\nimport startOfISOWeek from \"../startOfISOWeek/index.js\";\nimport startOfISOWeekYear from \"../startOfISOWeekYear/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the ISO week\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\n\nexport default function getISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfISOWeek(date).getTime() - startOfISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 24 * 60 * 60 * 1000;\n/**\n * @name getOverlappingDaysInIntervals\n * @category Interval Helpers\n * @summary Get the number of days that overlap in two time intervals\n *\n * @description\n * Get the number of days that overlap in two time intervals\n *\n * @param {Interval} intervalLeft - the first interval to compare. See [Interval]{@link docs/Interval}\n * @param {Interval} intervalRight - the second interval to compare. See [Interval]{@link docs/Interval}\n * @returns {Number} the number of days that overlap in two time intervals\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} The start of an interval cannot be after its end\n * @throws {RangeError} Date in interval cannot be `Invalid Date`\n *\n * @example\n * // For overlapping time intervals adds 1 for each started overlapping day:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 17), end: new Date(2014, 0, 21) }\n * )\n * //=> 3\n *\n * @example\n * // For non-overlapping time intervals returns 0:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 21), end: new Date(2014, 0, 22) }\n * )\n * //=> 0\n */\n\nexport default function getOverlappingDaysInIntervals(dirtyIntervalLeft, dirtyIntervalRight) {\n  requiredArgs(2, arguments);\n  var intervalLeft = dirtyIntervalLeft || {};\n  var intervalRight = dirtyIntervalRight || {};\n  var leftStartTime = toDate(intervalLeft.start).getTime();\n  var leftEndTime = toDate(intervalLeft.end).getTime();\n  var rightStartTime = toDate(intervalRight.start).getTime();\n  var rightEndTime = toDate(intervalRight.end).getTime(); // Throw an exception if start date is after end date or if any date is `Invalid Date`\n\n  if (!(leftStartTime <= leftEndTime && rightStartTime <= rightEndTime)) {\n    throw new RangeError('Invalid interval');\n  }\n\n  var isOverlapping = leftStartTime < rightEndTime && rightStartTime < leftEndTime;\n\n  if (!isOverlapping) {\n    return 0;\n  }\n\n  var overlapStartDate = rightStartTime < leftStartTime ? leftStartTime : rightStartTime;\n  var overlapEndDate = rightEndTime > leftEndTime ? leftEndTime : rightEndTime;\n  var differenceInMs = overlapEndDate - overlapStartDate;\n  return Math.ceil(differenceInMs / MILLISECONDS_IN_DAY);\n}", "import { LitElement, html, css, nothing } from 'lit';\r\nimport { property, customElement } from 'lit/decorators.js';\r\nimport { toDate } from 'date-fns-tz'\r\nimport { Resolution } from './model/Resolution';\r\nimport { Weekday } from './model/Weekday';\r\nimport { BlockRowData } from './model/blockRowData';\r\nimport { ILocaleDataProvider } from './model/ILocaleDataProvider';\r\nimport { IResolutionBlockFiller } from './model/IResolutionBlockFiller';\r\nimport { IResolutionBlockRegisterer } from './model/IResolutionBlockRegisterer';\r\nimport * as DateUtil from './util/dateTimeUtil';\r\nimport { DateTimeConstants } from './util/dateTimeUtil';\r\nimport * as ElementUtil from './util/elementUtil';\r\nimport { DefaultLocaleDataProvider } from './model/DefaultLocaleDataProvider';\r\nimport { getISOWeek } from 'date-fns';\r\nimport { query } from 'lit-element/decorators.js';\r\n\r\n/**\r\n * Scalable timeline web component that supports more than one\r\n * resolutions ({@link Resolution}). When timeline element doesn't overflow\r\n * horizontally in it's parent element, it scales the content width up to fit in\r\n * the space available.\r\n * <p>\r\n * When this component scales up, all widths are calculated as percentages.\r\n * Pixel widths are used otherwise. Some browsers may not support percentages\r\n * accurately enough, and for those it's best to call\r\n * {@link #setAlwaysCalculatePixelWidths(boolean)} with 'true' to disable\r\n * percentage values.\r\n * <p>\r\n * There's always a minimum width calculated and updated to the timeline\r\n * element. Percentage values set some limitation for the component's width.\r\n * Wider the component (&gt; 4000px), bigger the chance to get year, month and\r\n * date blocks not being vertically in-line with each others.\r\n * <p>\r\n * Supports setting a scroll left position.\r\n * <p>\r\n * After construction, attach the component to it's parent and call update\r\n * method with a required parameters and the timeline is ready. After that, all\r\n * widths are calculated and all other API methods available can be used safely.\r\n *\r\n */\r\n@customElement('timeline-element')\r\nexport class TimelineElement extends LitElement {\r\n\r\n  private static readonly STYLE_ROW: string =       \"row\";\r\n  private static readonly STYLE_COL: string =       \"col\";\r\n  private static readonly STYLE_MONTH: string =     \"month\";\r\n  private static readonly STYLE_YEAR: string =      \"year\";\r\n  private static readonly STYLE_DAY: string =       \"day\";\r\n  private static readonly STYLE_WEEK: string =      \"w\";\r\n  private static readonly STYLE_RESOLUTION: string = \"resolution\";\r\n  private static readonly STYLE_EVEN: string =      \"even\";\r\n  private static readonly STYLE_WEEKEND: string =   \"weekend\";\r\n  private static readonly STYLE_SPACER: string =    \"spacer\";\r\n  private static readonly STYLE_FIRST: string =     \"f-col\";\r\n  private static readonly STYLE_CENTER: string =    \"c-col\";\r\n  private static readonly STYLE_LAST: string =      \"l-col\";\r\n  private static readonly STYLE_MEASURE: string =   \"measure\";\r\n\r\n  private readonly resolutionWeekDayblockWidth: number = 4;\r\n\r\n  @property({ \r\n    reflect: true,\r\n    converter: {\r\n      fromAttribute: (value: string, type) => { \r\n        return <any>Resolution[<any>value];\r\n      },\r\n      toAttribute: (value: Resolution, type) => { \r\n        return <any>Resolution[value];\r\n      }\r\n    }\r\n  }) \r\n  public resolution: Resolution = Resolution.Day;\r\n  /* Inclusive start Date (hour accuracy). E.g. \"2020-04-01\" or \"2020-04-01T00\" for Hour resolution.*/\r\n  @property({ \r\n    reflect: true,\r\n    converter: {\r\n      fromAttribute: (value: string, type) => { \r\n        return (value) ? (value.length > 13) ? value.substring(0, 13) : value : value;\r\n      },\r\n    } \r\n  })\r\n  public startDateTime: string;\r\n  /* Inclusive end Date (hour accuracy). E.g. \"2020-04-01\" or \"2020-04-01T00\" for Hour resolution. */\r\n  @property({ \r\n    reflect: true, \r\n    converter: {\r\n      fromAttribute: (value: string, type) => { \r\n        return (value) ? (value.length > 13) ? value.substring(0, 13) : value : value;\r\n      },\r\n    } \r\n  }) \r\n  public endDateTime: string;\r\n  /** Start Date of the timeline. Native Date object can be in \"wrong\" time zone, as it matches browser's time zone. */\r\n  public internalInclusiveStartDateTime: Date;\r\n  /** End Date of the timeline. */\r\n  public internalInclusiveEndDateTime: Date; // internalEndDateTime may be adjusted for resolution\r\n  /** Timezone for date and time formatting. Doesn't match with actual start and end Date object's time zone. */\r\n  @property({ reflect: true}) \r\n  public timeZone: string = \"Europe/London\";\r\n  @property({ reflect: true}) \r\n  public locale: string = \"en-US\";\r\n  @property({ reflect: true}) firstDayOfWeek: number = 1; // sunday;\r\n  @property({ reflect: true, type: Boolean }) twelveHourClock: boolean = false;\r\n\r\n  @property() minWidth: number;\r\n\r\n  @property() normalStartDate: Date;\r\n  @property() normalEndDate: Date;\r\n  @property() lastDayOfWeek: number;\r\n  /* First day of the whole range. Allowed values are 1-7. 1 is Sunday. Required with {@link Resolution#Week} and weekend tracking. */\r\n  @property() firstDayOfRange: number;\r\n  /* First hour of the range. Allowed values are 0-23. Required with {@link Resolution#Hour}. */\r\n  @property() firstHourOfRange: number;\r\n  @property({ reflect: true }) scrollContainerId: string;\r\n\r\n  @property() monthRowVisible: boolean = true;\r\n  @property() yearRowVisible: boolean = true;\r\n\r\n  @property() monthNames: string[];\r\n  @property() weekdayNames: string[];\r\n\r\n  private localeDataProvider: ILocaleDataProvider;\r\n\r\n  /*\r\n   * number of blocks in resolution range. Days for Day/Week resolution, Hours\r\n   * for hour resolution..\r\n   */\r\n  private blocksInRange: number = 0;\r\n  /*\r\n   * number of elements in resolution range. Same as blocksInRange for\r\n   * Day/Hour resolution. blocksInRange / 7 for Week resolution.\r\n   */\r\n  private resolutionBlockCount: number = 0;\r\n  private firstResBlockCount: number = 0;\r\n  private lastResBlockCount: number = 0;\r\n  private firstDay: boolean;\r\n  private timelineOverflowingHorizontally: boolean;\r\n  private monthFormat: string;\r\n  private yearFormat: string;\r\n  private weekFormat: string;\r\n  private dayFormat: string;\r\n\r\n  /*\r\n   * resolutionDiv contains the resolution specific elements that represents a\r\n   * timeline's sub-parts like hour, day or week.\r\n   */\r\n  @query('#resolutionDiv')\r\n  public resolutionDiv: HTMLDivElement;\r\n  private resSpacerDiv: HTMLDivElement;\r\n  private spacerBlocks: HTMLDivElement[] = [];\r\n\r\n  private yearRowData: BlockRowData = new BlockRowData();\r\n  private monthRowData: BlockRowData = new BlockRowData();\r\n  // days/daysLength are needed only with resolutions smaller than Day.\r\n  private dayRowData: BlockRowData = new BlockRowData();\r\n\r\n  /*\r\n     * Currently active widths. Updated each time when timeline column widths\r\n     * are updated.\r\n     */\r\n  private dayWidthPercentage: number = 0;\r\n  private dayOrHourWidthPx: number = 0;\r\n  private resBlockMinWidthPx: number = 0;\r\n  private resBlockWidthPx: number = 0;\r\n  private resBlockWidthPercentage: number = 0;\r\n\r\n  private minResolutionWidth: number = -1;\r\n  private calcPixels: boolean = false;\r\n  private positionLeft: number = 0;\r\n\r\n  private setPositionForEachBlock: boolean = false;\r\n\r\n  private firstWeekBlockHidden: boolean = false;\r\n\r\n  private ie: boolean = false; // deprecated property\r\n\r\n  private lazyResolutionPaint: any;\r\n\r\n  /* directlyInsideScrollContainer: \r\n      true: timeline element is a child element inside a container with scroll bar. \r\n      false: timeline.style.left is adjusted by scrollHandler. */\r\n  private directlyInsideScrollContainer: boolean = true;\r\n  private scrollHandler: any;\r\n  private scrollContainer: HTMLElement | Window;\r\n  private previousContainerScrollLeft: number = 0;\r\n  private previousContainerScrollTop: number = 0;\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    if (this.scrollContainer && this.scrollHandler) {\r\n      this.scrollContainer.addEventListener('scroll', this.scrollHandler);\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    if (this.scrollContainer && this.scrollHandler) {\r\n      this.scrollContainer.removeEventListener('scroll', this.scrollHandler);\r\n    }\r\n  }\r\n  \r\n  static get styles() {\r\n    return css`\r\n      :host {\r\n        display: block;\r\n        overflow: hidden;\r\n        position: relative;\r\n        \r\n        --no-user-select: {\r\n\t\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t\t-khtml-user-select: none;\r\n\t\t\t\t\t-moz-user-select: none;\r\n\t\t\t\t\t-ms-user-select: none;\r\n          user-select: none;\r\n        }\r\n      }\r\n      :host([hidden]) {\r\n        display: none;\r\n      }\r\n      \r\n      .year,\r\n\t\t\t.month,\r\n\t\t\t.day {\r\n\t\t\t\tpadding-left: 2px;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t   \tborder-right: 1px solid #A9A9A9;\r\n\t\t    box-sizing: border-box;\r\n\t\t    -moz-box-sizing: border-box;\r\n\t\t    -webkit-box-sizing: border-box;\r\n\t\t\t}\r\n\t\t\t.year.spacer,\r\n\t\t\t.month.spacer,\r\n\t\t\t.day.spacer {\r\n\t\t\t\tpadding-left: 0px;\r\n\t\t\t}\r\n\r\n\t\t\t.month:nth-of-type(even),\r\n\t\t\t.day:nth-of-type(even) {\r\n\t\t\t    background-color: #ddd;\r\n\t\t\t}\r\n\t\t\t.col.even {\r\n\t\t\t    background-color: #ccc;\r\n\t\t\t}\r\n\r\n\t\t\t.col {\r\n        position: var(--timeline-col-position);\r\n\t\t\t\tleft: var(--timeline-col-left);\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tfloat: left;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tborder-right: 1px solid #A9A9A9;\r\n\t\t\t\tbackground-color: var(--timeline-col-background-color, #ddd);\r\n\t\t\t\tfont-size: var(--timeline-col-font-size, 10px);\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t-moz-box-sizing: border-box;\r\n\t\t\t\t-webkit-box-sizing: border-box;\r\n\t\t\t\t-webkit-touch-callout: none;\r\n\t\t\t\t@apply --no-user-select;\r\n\t\t\t}\r\n\r\n      .c-col {\r\n\t\t\t\twidth: var(--timeline-col-center-width);\r\n\t\t\t}\r\n\r\n\t\t\t.f-col {\r\n\t\t\t\twidth: var(--timeline-col-first-width);\r\n\t\t\t}\r\n\r\n\t\t\t.l-col {\r\n\t\t\t\twidth: var(--timeline-col-last-width);\r\n      }\r\n      \r\n\t\t\t.col.w {\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\r\n\t\t\t.col.weekend {\r\n\t\t\t\tbackground-color: var(--timeline-col-weekend, #ccc);\r\n\t\t\t}\r\n\r\n\t\t\t.col.measure {\r\n\t\t\t    // Change min-width to adjust grid's cell width with day and hour-resolution.\r\n\t\t\t\t//min-width: 40px;\r\n\t\t\t}\r\n\t\t\t.col.w.measure {\r\n\t\t\t\t// Change min-width to adjust grid's cell width with week-resolution.\r\n\t\t\t\t//min-width: 70px;\r\n\t\t\t}\r\n\r\n\t\t\t.row {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfloat: left;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\theight: var(--timeline-row-height, 15px);\r\n\t\t\t\tfont-size: var(--timeline-row-font-size, 10px);\r\n\t\t\t\tbackground-color: var(--timeline-row-background, #d0d0d0);\r\n\t\t\t\t-ms-flex-pack: justify;\r\n\t\t\t\t-webkit-touch-callout: none;\r\n\t\t\t\t@apply --no-user-select;\r\n\t\t\t}\r\n    `;\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      ${this.yearBlocks()}\r\n      ${this.monthBlocks()}\r\n      ${this.dayBlocks()}\r\n      <div id=\"resolutionDiv\" class=\"row resolution\"></div>`;\r\n  }\r\n  \r\n  yearBlocks() {\r\n    if (this.yearRowVisible) {\r\n      return this.timelineBlocks(this.yearRowData, TimelineElement.STYLE_YEAR);\r\n    }\r\n    return nothing;\r\n  }\r\n\r\n  monthBlocks() {\r\n    if (this.monthRowVisible) {\r\n      return this.timelineBlocks(this.monthRowData, TimelineElement.STYLE_MONTH);\r\n    }\r\n    return nothing;\r\n  }\r\n\r\n  dayBlocks() {\r\n    if (this.isDayRowVisible) {\r\n      return this.timelineBlocks(this.dayRowData, TimelineElement.STYLE_DAY);\r\n    }\r\n    return nothing;\r\n  }\r\n\r\n  shouldUpdate(changedProperties: any) {\r\n    return changedProperties.has('resolution')\r\n        || changedProperties.has('startDateTime')\r\n        || changedProperties.has('endDateTime')\r\n        || changedProperties.has('locale')\r\n        || changedProperties.has('timeZone')\r\n        || changedProperties.has('firstDayOfWeek')\r\n        || changedProperties.has('twelveHourClock')\r\n        || changedProperties.has('yearRowVisible')\r\n        || changedProperties.has('monthRowVisible')\r\n        || changedProperties.has('monthNames')\r\n        || changedProperties.has('weekdayNames')\r\n        ;\r\n  }\r\n\r\n  willUpdate(changedProps: any) {\r\n    if (changedProps.has('resolution')) {\r\n      this.minResolutionWidth = -1;\r\n    }\r\n    if(changedProps.has('resolution') || changedProps.has('startDateTime') || changedProps.has('timeZone')) {\r\n      this.firstDayOfRange = null;\r\n      if(this.resolution === Resolution.Hour)  {\r\n        this.internalInclusiveStartDateTime = toDate(this.startDateTime, { timeZone: this.timeZone});\r\n      } else {\r\n        this.internalInclusiveStartDateTime = toDate(this.startDateTime.substring(0, 10) + 'T00:00:00.000', { timeZone: this.timeZone});\r\n      }\r\n    }\r\n    if (changedProps.has('resolution') || changedProps.has('endDateTime') || changedProps.has('timeZone')) {\r\n      // given time must be always exact hour in millisecod accuracy 1AM means exactly \"01:00:00.000\".\r\n      if(this.resolution === Resolution.Hour)  {\r\n        // convert given time to last millisecond in the given hour. 1AM becomes \"01:59:59.999\" set to internalEndDateTime.\r\n        this.internalInclusiveEndDateTime = toDate(this.endDateTime.substring(0, 13) + ':59:59.999', { timeZone: this.timeZone});\r\n      } else {\r\n        this.internalInclusiveEndDateTime = toDate(this.endDateTime.substring(0, 10) + 'T23:59:59.999', { timeZone: this.timeZone});\r\n      }\r\n    }\r\n\r\n    this.updateTimeLine(this.resolution, this.internalInclusiveStartDateTime, this.internalInclusiveEndDateTime, new DefaultLocaleDataProvider(this.locale, this.timeZone, this.firstDayOfWeek, this.twelveHourClock));\r\n  }\r\n\r\n  protected updated(changedProps: any): void {\r\n    if(!(this.resolution) || !this.internalInclusiveStartDateTime || !this.internalInclusiveEndDateTime) {\r\n      return;\r\n    }\r\n    if (this.resolution !== Resolution.Day && this.resolution !== Resolution.Week && this.resolution !== Resolution.Hour) {\r\n      console.log(\"TimelineElement resolution \" + (this.resolution ? Resolution[this.resolution] : \"null\")\r\n        + \" is not supported\");\r\n      return;\r\n    }\r\n\r\n    console.log(\"TimelineElement Constructed content.\");\r\n    this.updateWidths();\r\n    console.log(\"TimelineElement is updated for resolution \" + Resolution[this.resolution] + \".\");\r\n\r\n    this.registerScrollHandler();\r\n  }\r\n  \r\n  /**\r\n   * <p>\r\n   * Updates the content of this component. Builds the time-line and calculates\r\n   * width and heights for the content (calls in the end\r\n   * {@link #updateWidths()}). This should be called explicitly. Otherwise the\r\n   * component will be empty.\r\n   * <p>\r\n   * Date values should always follow specification in {@link Date#getTime()}.\r\n   * Start and end date is always required.\r\n   *\r\n   * @param resolution\r\n   *            Resolution enum (not null)\r\n   * @param startDate\r\n   *            Time-line's start date. (inclusive; not null)\r\n   * @param endDate\r\n   *            Time-line's end date. (inclusive; not null)\r\n   * @param localeDataProvider\r\n   *            Data provider for locale specific data. month names, first day\r\n   *            of week etc.\r\n   *\r\n   */\r\n  updateTimeLine(resolution: Resolution, startDate: Date, endDate: Date,\r\n                localeDataProvider: ILocaleDataProvider) {\r\n    if (!localeDataProvider) {\r\n      console.log(\"TimelineElement requires ILocaleDataProvider. Can't complete update(...) operation.\");\r\n      return;\r\n    }\r\n    this.clear();\r\n    console.log(\"TimelineElement content cleared.\");\r\n\r\n    if(!(resolution) || !startDate || !endDate) {\r\n      return;\r\n    }\r\n    console.log(\"TimelineElement Updating content.\");\r\n    \r\n    this.localeDataProvider = localeDataProvider;\r\n    this.resolution = resolution;\r\n    this.resetDateRange(startDate, endDate);\r\n    this.lastDayOfWeek = (localeDataProvider.getFirstDayOfWeek() == 1) ? 7 : Math.max((localeDataProvider.getFirstDayOfWeek() - 1) % 8, 1);\r\n    this.monthNames = this.monthNames || localeDataProvider.getMonthNames();\r\n    this.weekdayNames = this.weekdayNames || localeDataProvider.getWeekdayNames();\r\n\r\n    if (this.minResolutionWidth < 0) {\r\n      this.minResolutionWidth = this.calculateResolutionMinWidth();\r\n    }\r\n\r\n    if (this.resolution === Resolution.Day || this.resolution === Resolution.Week) {\r\n      this.prepareTimelineForDayOrWeekResolution(this.internalInclusiveStartDateTime, this.internalInclusiveEndDateTime);\r\n    } else if (this.resolution === Resolution.Hour) {\r\n      this.prepareTimelineForHourResolution(this.internalInclusiveStartDateTime, this.internalInclusiveEndDateTime);\r\n    }\r\n  }\r\n\r\n  resetDateRange(startDate: Date, endDate: Date) {\r\n    this.internalInclusiveStartDateTime = startDate;\r\n    this.internalInclusiveEndDateTime = endDate;\r\n    this.normalStartDate = this.toNormalDate(this.internalInclusiveStartDateTime);\r\n    this.normalEndDate = this.toNormalDate(this.internalInclusiveEndDateTime);\r\n    // Date#getDay() is zero-based: Sunday = 0, Monday = 1, ...\r\n    // this.firstDayOfRange is 1-based (Sunday = 1).\r\n    this.firstDayOfRange = this.firstDayOfRange || this.internalInclusiveStartDateTime.getDay() + 1; // TODO is weekday still correct here?\r\n    this.firstHourOfRange = this.firstHourOfRange || parseInt(this.localeDataProvider.formatTime(this.internalInclusiveStartDateTime, \"HH\"));\r\n  }\r\n\r\n  registerScrollHandler() {\r\n    if (this.scrollHandler) {\r\n      return;\r\n    }\r\n    let timeline = this;\r\n    this.scrollContainer = this.setupScrollContainer();\r\n    this.scrollHandler = function (e: any) {\r\n      window.requestAnimationFrame(function () {\r\n        let container: any = timeline.scrollContainer;\r\n        let sl: number = container.scrollLeft || container.scrollX;\r\n        let st: number = container.scrollTop || container.scrollY;\r\n        if (sl != timeline.previousContainerScrollLeft) {\r\n          timeline.setScrollLeft(sl);\r\n          timeline.previousContainerScrollLeft = sl;\r\n        }\r\n        if (st != timeline.previousContainerScrollTop) {\r\n          timeline.previousContainerScrollTop = st;\r\n        }\r\n      });\r\n    };\r\n    this.scrollContainer.addEventListener('scroll', this.scrollHandler);\r\n  }\r\n\r\n  setupScrollContainer(): HTMLElement | Window {\r\n    let scrollContainer;\r\n    if(this.scrollContainerId) {\r\n      scrollContainer = this.getParentElement(this).querySelector('#' + this.scrollContainerId);\r\n      if(!scrollContainer) {\r\n        scrollContainer = document.querySelector('#' + this.scrollContainerId);\r\n      }\r\n      if(scrollContainer) {\r\n        (<HTMLElement>scrollContainer).style.overflowX = \"auto\";\r\n      }\r\n    } \r\n    if(!scrollContainer) {\r\n      scrollContainer = this.getParentElement(this);\r\n      this.directlyInsideScrollContainer = true;\r\n      if(scrollContainer === document.body) {\r\n        return window; // window scrolls by default, not body\r\n      }\r\n    }\r\n    return scrollContainer;\r\n  }\r\n\r\n  clear() {\r\n    this.spacerBlocks = [];\r\n    this.yearRowData.clear();\r\n    this.monthRowData.clear();\r\n    this.dayRowData.clear();\r\n  }\r\n\r\n  calculateResolutionMinWidth(): number {\r\n    let resDivMeasure: HTMLDivElement = document.createElement('div');\r\n    resDivMeasure.classList.add(TimelineElement.STYLE_ROW, TimelineElement.STYLE_RESOLUTION);\r\n    let resBlockMeasure: HTMLDivElement = document.createElement('div');\r\n    if (this.resolution === Resolution.Week) {\r\n      // configurable with '.col.w.measure' selector\r\n      resBlockMeasure.classList.add(TimelineElement.STYLE_COL, TimelineElement.STYLE_WEEK, TimelineElement.STYLE_MEASURE);\r\n    } else {\r\n      // measure for text 'MM'\r\n      resBlockMeasure.innerText = \"MM\";\r\n      // configurable with '.col.measure' selector\r\n      resBlockMeasure.classList.add(TimelineElement.STYLE_COL, TimelineElement.STYLE_MEASURE);\r\n    }\r\n    resDivMeasure.appendChild(resBlockMeasure);\r\n    this.shadowRoot.appendChild(resDivMeasure);\r\n    let width: number = resBlockMeasure.clientWidth;\r\n    if (this.resolution === Resolution.Week) {\r\n      // divide given width by number of days in week\r\n      width = width / DateTimeConstants.DAYS_IN_WEEK;\r\n    }\r\n    width = (width < this.resolutionWeekDayblockWidth) ? this.resolutionWeekDayblockWidth : width;\r\n    this.shadowRoot.removeChild(resDivMeasure);\r\n    return width;\r\n  }\r\n\r\n  registerHourResolutionBlock() {\r\n    this.blocksInRange++;\r\n    this.resolutionBlockCount++;\r\n  }\r\n\r\n  registerDayResolutionBlock() {\r\n    this.blocksInRange++;\r\n    this.resolutionBlockCount++;\r\n  }\r\n\r\n  registerWeekResolutionBlock(index: number, weekDay: Weekday, lastBlock: boolean, firstWeek: boolean) {\r\n    if (index == 0 || weekDay === Weekday.First) {\r\n      this.resolutionBlockCount++;\r\n    }\r\n\r\n    if (firstWeek && (weekDay === Weekday.Last || lastBlock)) {\r\n      this.firstResBlockCount = index + 1;\r\n    } else if (lastBlock) {\r\n      this.lastResBlockCount = (index + 1 - this.firstResBlockCount) % 7;\r\n    }\r\n\r\n    this.blocksInRange++;\r\n  }\r\n\r\n  timelineBlocks(rowData: BlockRowData, style: string) {\r\n    const itemTemplates = [];\r\n    for (let entry of rowData.getBlockEntries()) {\r\n      itemTemplates.push(html`${entry[1]}`);\r\n    }\r\n    if (this.isAlwaysCalculatePixelWidths()) {\r\n      itemTemplates.push(html`${this.createSpacerBlock(style)}`);\r\n    }\r\n    return itemTemplates;\r\n  }\r\n\r\n  /**\r\n * Returns true if Widget is set to calculate widths by itself. Default is\r\n * false.\r\n *\r\n * @return\r\n */\r\n  isAlwaysCalculatePixelWidths(): boolean {\r\n    return this.calcPixels;\r\n  }\r\n\r\n  createSpacerBlock(className: string): HTMLDivElement {\r\n      let block: HTMLDivElement = document.createElement('div');\r\n      block.classList.add(TimelineElement.STYLE_ROW, TimelineElement.STYLE_YEAR, TimelineElement.STYLE_SPACER);\r\n      block.innerText = \" \";\r\n      block.style.display = \"none\"; // not visible by default\r\n      this.spacerBlocks.push(block);\r\n      return block;\r\n  }\r\n\r\n  /** Clears Daylight saving time adjustment from the given time. */\r\n  toNormalDate(zonedDate: Date): Date {\r\n    return DateUtil.toNormalDate(zonedDate, this.localeDataProvider.getDaylightAdjustment(zonedDate));\r\n  }\r\n\r\n  getDSTAdjustedDate(previousIsDST: boolean, zonedDate: Date): Date {\r\n    return DateUtil.getDSTAdjustedDate(previousIsDST, zonedDate, this.localeDataProvider.getDaylightAdjustment(zonedDate));\r\n  }\r\n\r\n  getParentElement(node: any): any {\r\n    var parent = node.parentNode;\r\n    if (!parent || parent.nodeType != 1) {\r\n      parent = null;\r\n    }\r\n    return parent;\r\n  }\r\n\r\n  getDay(date: Date): string {\r\n    // by adjusting the date to the middle of the day before formatting is a\r\n    // workaround to avoid DST issues with DateTimeFormatter.\r\n    let adjusted: Date = DateUtil.adjustToMiddleOfDay(date, this.localeDataProvider.getTimeZone());\r\n    return this.localeDataProvider.formatDate(adjusted, \"d\");\r\n  }\r\n\r\n  getYear(date: Date): string {\r\n      return this.localeDataProvider.formatDate(date, \"yyyy\");\r\n  }\r\n\r\n  getMonth(date: Date): number {\r\n      let m: string = this.localeDataProvider.formatDate(date, \"M\");\r\n      return parseInt(m) - 1;\r\n  }\r\n\r\n  isWeekEnd(dayCounter: number): boolean {\r\n    return dayCounter == 1 || dayCounter == 7;\r\n  }\r\n\r\n  key(prefix: string, rowData: BlockRowData): string {\r\n    return prefix + \"_\" + (rowData.size());\r\n  }\r\n\r\n  newKey(prefix: string, rowData: BlockRowData): string {\r\n    return prefix + \"_\" + (rowData.size() + 1);\r\n  }\r\n\r\n  addBlock(current: string, target: string, date: Date, rowData: BlockRowData, operation: (target: string, value: string, date: Date) => void): string {\r\n    let key: string;\r\n    if (target !== current) {\r\n      current = target;\r\n      key = this.newKey(\"\" + current, rowData);\r\n      operation(target, key, date);\r\n    } else {\r\n      key = this.key(\"\" + current, rowData);\r\n      rowData.setBlockLength(key, rowData.getBlockLength(key) + 1);\r\n    }\r\n    return current;\r\n  }\r\n\r\n  addDayBlock(currentDay: string, date: Date): string {\r\n    let day: string = this.getDay(date);\r\n\r\n    return this.addBlock(currentDay, day, date, this.dayRowData, (day: string, key: string, date: Date) => {\r\n      this.addDayBlockElement(key, this.formatDayCaption(day, date));\r\n    });\r\n  }\r\n\r\n  addMonthBlock(currentMonth: string, date: Date): string {\r\n    let month: number = this.getMonth(date);\r\n\r\n    return this.addBlock(currentMonth, \"\"+month, date, this.monthRowData, (target: string, key: string, date: Date) => {\r\n      this.addMonthBlockElement(key, this.formatMonthCaption(month, date));\r\n    });\r\n  }\r\n\r\n  addYearBlock(currentYear: string, date: Date): string {\r\n    let year: string = this.getYear(date);\r\n\r\n    return this.addBlock(currentYear, year, date, this.yearRowData, (year: string, key: string, date: Date) => {\r\n      this.addYearBlockElement(key, this.formatYearCaption(year, date));\r\n    });\r\n  }\r\n\r\n  addMonthBlockElement(key: string, text: string) {\r\n    this.createTimelineBlock(key, text, TimelineElement.STYLE_MONTH, this.monthRowData);\r\n  }\r\n\r\n  addYearBlockElement(key: string, text: string) {\r\n    this.createTimelineBlock(key, text, TimelineElement.STYLE_YEAR, this.yearRowData);\r\n  }\r\n\r\n  addDayBlockElement(key: string, text: string) {\r\n    this.createTimelineBlock(key, text, TimelineElement.STYLE_DAY, this.dayRowData);\r\n  }\r\n\r\n  createTimelineBlock(key: string, text: string, styleSuffix: string, rowData: BlockRowData): HTMLDivElement {\r\n      let div: HTMLDivElement = document.createElement('div');\r\n      div.classList.add(TimelineElement.STYLE_ROW, styleSuffix);\r\n      div.innerText = text;\r\n      rowData.setBlockLength(key, 1);\r\n      rowData.setBlock(key, div);\r\n      return div;\r\n  }\r\n\r\n  formatDayCaption(day: string, date: Date): string {\r\n      if (!this.dayFormat || this.dayFormat === \"\") {\r\n          return day;\r\n      }\r\n      return this.localeDataProvider.formatDate(date, this.dayFormat);\r\n  }\r\n\r\n  formatYearCaption(year: string, date: Date): string {\r\n      if (!this.yearFormat || this.yearFormat === \"\") {\r\n          return year;\r\n      }\r\n      return this.localeDataProvider.formatDate(date, this.yearFormat);\r\n  }\r\n\r\n  formatWeekCaption(date: Date): string {\r\n      if (!this.weekFormat || this.weekFormat === \"\") {\r\n          return \"\" + getISOWeek(date);\r\n      }\r\n      return this.localeDataProvider.formatDate(date, this.weekFormat);\r\n  }\r\n\r\n  formatMonthCaption(month: number, date: Date): string {\r\n      if (!this.monthFormat || this.monthFormat === \"\") {\r\n          return this.monthNames[month];\r\n      }\r\n      return this.localeDataProvider.formatDate(date, this.monthFormat);\r\n  }\r\n\r\n  getWeekday(dayCounter: number): Weekday {\r\n      if (dayCounter === this.localeDataProvider.getFirstDayOfWeek()) {\r\n          return Weekday.First;\r\n      }\r\n      if (dayCounter === this.lastDayOfWeek) {\r\n          return Weekday.Last;\r\n      }\r\n      return Weekday.Between;\r\n  }\r\n\r\n  prepareTimelineForHourResolution(startDate: Date, endDate: Date) {\r\n    let timeline = this;\r\n    this.firstDay = true;\r\n    let hourCounter: number = this.firstHourOfRange;\r\n    this.prepareTimelineForHour(DateTimeConstants.HOUR_INTERVAL, startDate, endDate, <IResolutionBlockRegisterer>{\r\n\r\n      registerResolutionBlock(index: number, date: Date, currentYear: string, lastTimelineBlock: boolean) {\r\n        timeline.registerHourResolutionBlock();\r\n        hourCounter = Math.max((hourCounter + 1) % 25, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  prepareTimelineForHour(interval: number, startDate: Date, endDate: Date, resBlockRegisterer: IResolutionBlockRegisterer) {\r\n    this.blocksInRange = 0;\r\n    this.resolutionBlockCount = 0;\r\n    this.firstResBlockCount = 0;\r\n    this.lastResBlockCount = 0;\r\n    let currentYear = null;\r\n    let currentMonth = null;\r\n    let currentDay = null;\r\n    let pos: Date = startDate;\r\n    let end: Date = endDate;\r\n    let index: number = 0;\r\n    let lastTimelineBlock: boolean = false;\r\n    let date: Date;\r\n\r\n    while (pos.getTime() <= end.getTime()) {\r\n      date = pos;\r\n      let nextHour: Date = new Date(pos.getTime() + interval);\r\n      lastTimelineBlock = nextHour.getTime() > end.getTime();\r\n\r\n      resBlockRegisterer.registerResolutionBlock(index, date, currentYear, lastTimelineBlock);\r\n\r\n      if (this.yearRowVisible) {\r\n        currentYear = this.addYearBlock(currentYear, date);\r\n      }\r\n      if (this.monthRowVisible) {\r\n        currentMonth = this.addMonthBlock(currentMonth, date);\r\n      }\r\n      if (this.isDayRowVisible()) {\r\n        currentDay = this.addDayBlock(currentDay, date);\r\n      }\r\n      pos = nextHour;\r\n      index++;\r\n    }\r\n  }\r\n\r\n  prepareTimelineForDayOrWeekResolution(startDate: Date, endDate: Date) {\r\n    let timeline = this;\r\n    let dayCounter: number = this.firstDayOfRange;\r\n    let weekday: Weekday;\r\n    let firstWeek: boolean = true;\r\n    this.prepareTimelineForDayOrWeek(DateTimeConstants.DAY_INTERVAL, startDate, endDate, <IResolutionBlockRegisterer>{\r\n      registerResolutionBlock: function (index: number, date: Date, currentYear: string, lastTimelineBlock: boolean) {\r\n\r\n        weekday = timeline.getWeekday(dayCounter);\r\n\r\n        if (timeline.resolution === Resolution.Week) {\r\n          timeline.registerWeekResolutionBlock(index, weekday, lastTimelineBlock, firstWeek);\r\n          if (firstWeek && (weekday === Weekday.Last || lastTimelineBlock)) {\r\n            firstWeek = false;\r\n          }\r\n        } else {\r\n          timeline.registerDayResolutionBlock();\r\n        }\r\n\r\n        dayCounter = Math.max((dayCounter + 1) % 8, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  prepareTimelineForDayOrWeek(interval: number, startDate: Date, endDate: Date,\r\n          resBlockRegisterer: IResolutionBlockRegisterer) {\r\n      this.blocksInRange = 0;\r\n      this.resolutionBlockCount = 0;\r\n      this.firstResBlockCount = 0;\r\n      this.lastResBlockCount = 0;\r\n      let currentYear: string = null;\r\n      let currentMonth: string = null;\r\n      let currentDay: string = null;\r\n      let pos: Date = DateUtil.adjustToMiddleOfDay(startDate, this.localeDataProvider.getTimeZone());\r\n      let end: Date = endDate;\r\n      let index: number = 0;\r\n      let lastTimelineBlock: boolean = false;\r\n      let date: Date;\r\n      let isDST: boolean = false;\r\n      let isPreviousDst: boolean = this.localeDataProvider.isDaylightTime(startDate);\r\n\r\n      while (!lastTimelineBlock) {\r\n          let date: Date = DateUtil.getDSTAdjustedDate(isPreviousDst, pos, this.localeDataProvider.getDaylightAdjustment(pos));\r\n          pos = date;\r\n          isDST = this.localeDataProvider.isDaylightTime(date);\r\n          let d: Date = new Date(date.getTime() + interval);\r\n          lastTimelineBlock = DateUtil.getDSTAdjustedDate(isDST, d, this.localeDataProvider.getDaylightAdjustment(d)).getTime() > end.getTime();\r\n\r\n          resBlockRegisterer.registerResolutionBlock(index, date, currentYear, lastTimelineBlock);\r\n\r\n          if (this.yearRowVisible) {\r\n              currentYear = this.addYearBlock(currentYear, date);\r\n          }\r\n          if (this.monthRowVisible) {\r\n              currentMonth = this.addMonthBlock(currentMonth, date);\r\n          }\r\n          if (this.isDayRowVisible()) {\r\n              currentDay = this.addDayBlock(currentDay, date);\r\n          }\r\n          isPreviousDst = isDST;\r\n          pos = new Date(pos.getTime() + interval);\r\n          index++;\r\n      }\r\n  }\r\n\r\n  isDayRowVisible(): boolean {\r\n    return this.resolution === Resolution.Hour;\r\n  }\r\n\r\n  /**\r\n * Get actual width of the timeline.\r\n *\r\n * @return\r\n */\r\n  public getResolutionWidth(): number {\r\n    if (!this.isTimelineOverflowingHorizontally()) {\r\n      return this.calculateTimelineWidth();\r\n    }\r\n\r\n    let width: number = this.getResolutionDivWidth();\r\n    if (this.isAlwaysCalculatePixelWidths() && this.containsResBlockSpacer()) {\r\n      width = width - ElementUtil.getWidth(this.resSpacerDiv);\r\n    }\r\n    return width;\r\n  }\r\n\r\n  /**\r\n * Calculate the exact width of the timeline. Excludes any spacers in the\r\n * end.\r\n *\r\n * @return\r\n */\r\n  public calculateTimelineWidth(): number {\r\n    let last: HTMLElement = this.getLastResolutionElement();\r\n    if (last === null) {\r\n      return 0.0;\r\n    }\r\n    let r: number = ElementUtil.getRight(last);\r\n    let l: number = ElementUtil.getLeft(this.getFirstResolutionElement());\r\n    let timelineRealWidth: number = r - l;\r\n    return timelineRealWidth;\r\n  }\r\n\r\n  /*\r\n   * Get width of the resolution div element.\r\n   */\r\n  private getResolutionDivWidth(): number {\r\n    if (!this.isTimelineOverflowingHorizontally()) {\r\n      return ElementUtil.getWidth(this.resolutionDiv);\r\n    }\r\n    return this.blocksInRange * this.minResolutionWidth;\r\n  }\r\n\r\n  /**\r\n * Calculate matching left offset in percentage for a date (\r\n * {@link Date#getTime()}).\r\n *\r\n * @param date\r\n *            Target date in milliseconds.\r\n * @param contentWidth\r\n *            Width of the content that the given 'date' is relative to.\r\n * @return Left offset in percentage.\r\n */\r\n  public getLeftPositionPercentageForDate(date: Date, contentWidth: number): number {\r\n    let timelineLeft: number = this.getLeftPositionForDate(date);\r\n    let relativeLeft: number = this.convertRelativeLeftPosition(timelineLeft, contentWidth);\r\n\r\n    let width: number = this.getResolutionWidth();\r\n    return (100.0 / width) * relativeLeft;\r\n  }\r\n\r\n  /**\r\n   * Calculate CSS value for 'left' property matching left offset in\r\n   * percentage for a date ( {@link Date#getTime()}).\r\n   * <p>\r\n   * May return '2.123456%' or 'calc(2.123456%)' if IE;\r\n   *\r\n   * @param date\r\n   *            Target date in milliseconds.\r\n   * @param contentWidth\r\n   *            Width of the content that the given 'date' is relative to.\r\n   * @return Left offset as a String value.\r\n   */\r\n  public getLeftPositionPercentageStringForDate(date: Date, contentWidth: number): string {\r\n    let timelineLeft: number = this.getLeftPositionForDate(date);\r\n    let relativeLeft: number = this.convertRelativeLeftPosition(timelineLeft, contentWidth);\r\n\r\n    let width: number = this.getResolutionWidth();\r\n    let calc: string = this.createCalcCssValue(width, relativeLeft);\r\n\r\n    if (calc != null) {\r\n      return calc;\r\n    }\r\n    return (100.0 / width) * relativeLeft + \"%\";\r\n  }\r\n\r\n  public getLeftPositionPercentageStringForDateRange(date: Date, rangeWidth: number, rangeStartDate: Date,\r\n    rangeEndDate: Date): string {\r\n    let rangeLeft: number = this.getLeftPositionForDateRange(date, rangeWidth, rangeStartDate, rangeEndDate);\r\n    let width: number = rangeWidth;\r\n    let calc: string = this.createCalcCssValue(width, rangeLeft);\r\n\r\n    if (calc != null) {\r\n      return calc;\r\n    }\r\n    return (100.0 / width) * rangeLeft + \"%\";\r\n  }\r\n\r\n  /**\r\n   * Calculate CSS value for 'width' property matching date interval inside\r\n   * the time-line. Returns percentage value. Interval is in milliseconds.\r\n   * <p>\r\n   * May return '2.123456%' or 'calc(2.123456%)' if IE;\r\n   *\r\n   * @param interval\r\n   *            Date interval in milliseconds.\r\n   * @return\r\n   */\r\n  public getWidthPercentageStringForDateInterval(interval: number): string {\r\n    let range: number = this.internalInclusiveEndDateTime.getTime() - this.internalInclusiveStartDateTime.getTime();\r\n    return this.getWidthPercentageStringForDateIntervalForRange(interval, range);\r\n  }\r\n\r\n  /** @see #getWidthPercentageStringForDateInterval(long) */\r\n  public getWidthPercentageStringForDateIntervalForRange(interval: number, range: number): string {\r\n    let calc: string = this.createCalcCssValue(range, interval);\r\n    if (calc != null) {\r\n      return calc;\r\n    }\r\n    return (100.0 / range) * interval + \"%\";\r\n  }\r\n\r\n  /**\r\n   * Calculate matching left offset in pixels for a date (\r\n   * {@link Date#getTime()}).\r\n   *\r\n   * @param date\r\n   *            Target date in milliseconds.\r\n   * @return Left offset in pixels.\r\n   */\r\n  public getLeftPositionForDate(date: Date): number {\r\n    return this.getLeftPositionForDateRange(date, this.getResolutionWidth(), this.internalInclusiveStartDateTime, this.internalInclusiveEndDateTime);\r\n  }\r\n\r\n  public getLeftPositionForDateRange(date: Date, rangeWidth: number, rangeStartDate: Date, rangeEndDate: Date): number {\r\n    let width: number = rangeWidth;\r\n    let range: number = rangeEndDate.getTime() - rangeStartDate.getTime();\r\n    if (range <= 0) {\r\n      return 0;\r\n    }\r\n    let p: number = width / range;\r\n    let offset: number = date.getTime() - rangeStartDate.getTime();\r\n    let left: number = p * offset;\r\n    return left;\r\n  }\r\n\r\n  /**\r\n   * Calculate matching date ({@link Date#getTime()}) for the target left\r\n   * pixel offset.\r\n   *\r\n   * @param left\r\n   *            Left offset in pixels.\r\n   * @return Date in a milliseconds or null if timeline width is invalid (<=0).\r\n   */\r\n  public getDateForLeftPosition(left: number): Date {\r\n    return this.getDateForLeftPositionNoticeDST(left, this.resolution === Resolution.Hour);\r\n  }\r\n\r\n  public getDateForLeftPositionNoticeDST(left: number, noticeDST: boolean): Date {\r\n    let width: number = this.getResolutionWidth();\r\n    if (width <= 0) {\r\n      return null;\r\n    }\r\n    let range: number = this.normalEndDate.getTime() - this.normalStartDate.getTime();\r\n    if (noticeDST) {\r\n      range = this.adjustDateRangeByDST(range);\r\n    }\r\n    let p: number = range / width;\r\n    let offset: number = p * left;\r\n    let date: Date = new Date(this.internalInclusiveStartDateTime.getTime() + offset);\r\n\r\n    console.log(\"Zoned: \" + this.localeDataProvider.formatDate(date, \"dd. HH:mm\") + \"  DST: \"\r\n      + this.localeDataProvider.getDaylightAdjustment(date) / 60000);\r\n    return date;\r\n  }\r\n\r\n  /**\r\n   * Convert left position for other relative target width.\r\n   *\r\n   * @param left\r\n   * @param contentWidthToConvertFor\r\n   * @return\r\n   */\r\n  public convertRelativeLeftPosition(left: number, contentWidthToConvertFor: number): number {\r\n      let width: number = this.getResolutionWidth();\r\n      if (width <= 0 || contentWidthToConvertFor <= 0) {\r\n          return 0;\r\n      }\r\n\r\n      let relativePosition: number = (1.0 / contentWidthToConvertFor) * left;\r\n      let timelineLeft: number = relativePosition * width;\r\n      return timelineLeft;\r\n  }\r\n\r\n  adjustDateRangeByDST(range: number): number {\r\n    /*\r\n     * Notice extra block(s) or missing block(s) in range when start time is\r\n     * in DST and end time is not, or vice versa.\r\n     */\r\n    let dstStart = this.localeDataProvider.getDaylightAdjustment(this.internalInclusiveStartDateTime);\r\n    let dstEnd = this.localeDataProvider.getDaylightAdjustment(this.internalInclusiveEndDateTime);\r\n    if (dstStart > dstEnd) {\r\n      range -= Math.abs(dstStart - dstEnd);\r\n    } else if (dstEnd > dstStart) {\r\n      range += Math.abs(dstEnd - dstStart);\r\n    }\r\n    return range;\r\n  }\r\n\r\n  /**\r\n   * Set horizontal scroll position for the time-line.\r\n   *\r\n   * @param left\r\n   *            Scroll position in pixels.\r\n   */\r\n  public setScrollLeft(left: number) {\r\n      if (this.positionLeft === left) {\r\n          return;\r\n      }\r\n      this.positionLeft = left || 0;\r\n      if(!this.directlyInsideScrollContainer) {\r\n        this.style.left = -this.positionLeft + \"px\";\r\n      }\r\n      this.lazyResolutionPaint = setTimeout(() => this.fillVisibleTimeline(), 20);\r\n  }\r\n  \r\n  /**\r\n   * Re-calculates required widths for this widget.\r\n   * <p>\r\n   * Re-creates and fills the visible part of the resolution element.\r\n   */\r\n  updateWidths() {\r\n      if (this.resolutionDiv == null) {\r\n          console.log(\"TimelineElement is not ready for updateWidths() call. Call update(...) instead.\");\r\n          return;\r\n      }\r\n      console.log(\"TimelineElement Started updating widths.\");\r\n\r\n      // start by clearing old content in resolution element\r\n      while (this.resolutionDiv.firstChild) {\r\n        this.resolutionDiv.removeChild(this.resolutionDiv.lastChild);\r\n      }\r\n\r\n      this.setMinWidth(this.blocksInRange * this.minResolutionWidth);\r\n\r\n      // update horizontal overflow state here, after min-width is updated.\r\n      this.updateTimelineOverflowingHorizontally();\r\n\r\n      this.createTimelineElementsOnVisibleArea();\r\n      // fill timeline\r\n      this.fillVisibleTimeline();\r\n\r\n      // remove spacer block if it exist\r\n      this.removeResolutionSpacerBlock();\r\n\r\n      // calculate new block width for day-resolution.\r\n      // Year and month blocks are vertically in-line with days.\r\n      this.dayWidthPercentage = 100.0 / this.blocksInRange;\r\n      this.dayOrHourWidthPx = this.calculateDayOrHourResolutionBlockWidthPx(this.blocksInRange);\r\n\r\n      // calculate block width for currently selected resolution\r\n      // (day,week,...)\r\n      // resolution div's content may not be vertically in-line with\r\n      // year/month blocks. This is the case for example with Week resolution.\r\n      this.resBlockMinWidthPx = this.minResolutionWidth;\r\n      this.resBlockWidthPx = this.calculateActualResolutionBlockWidthPx(this.dayOrHourWidthPx);\r\n      this.resBlockWidthPercentage = 100.0 / this.resolutionBlockCount;\r\n      let pct: string = this.createCalcCssValue(this.resolutionBlockCount, null);\r\n      if (this.resolution === Resolution.Week) {\r\n        this.resBlockMinWidthPx = DateTimeConstants.DAYS_IN_WEEK * this.minResolutionWidth;\r\n        this.resBlockWidthPercentage = this.dayWidthPercentage * DateTimeConstants.DAYS_IN_WEEK;\r\n        pct = this.createCalcCssValue(this.blocksInRange, DateTimeConstants.DAYS_IN_WEEK);\r\n      }\r\n\r\n      // update resolution block widths\r\n      this.updateResolutionBlockWidths(pct);\r\n\r\n      if (this.yearRowVisible) {\r\n          // update year block widths\r\n          this.updateBlockWidths(this.yearRowData);\r\n      }\r\n\r\n      if (this.monthRowVisible) {\r\n          // update month block widths\r\n          this.updateBlockWidths(this.monthRowData);\r\n      }\r\n\r\n      if (this.isDayRowVisible()) {\r\n        this.updateBlockWidths(this.dayRowData);\r\n      }\r\n\r\n      if (this.isAlwaysCalculatePixelWidths()) {\r\n        this.updateSpacerBlocks(this.dayOrHourWidthPx);\r\n      }\r\n\r\n      console.log(\"TimelineElement Widths are updated.\");\r\n  }\r\n\r\n  updateBlockWidths(rowData: BlockRowData) {\r\n    for (let entry of rowData.getBlockEntries()) {\r\n      this.setWidth(entry[1], rowData.getBlockLength(entry[0]));\r\n    }\r\n  }\r\n\r\n  updateSpacerBlocks(dayWidthPx: number) {\r\n    let spaceLeft: number = this.getResolutionDivWidth() - (this.blocksInRange * dayWidthPx);\r\n    if (spaceLeft > 0) {\r\n      for (let e of this.spacerBlocks) {\r\n        e.style.removeProperty(\"display\");\r\n        e.style.width = spaceLeft + \"px\";\r\n      }\r\n\r\n      this.resSpacerDiv = this.createResolutionBlock();\r\n      this.resSpacerDiv.classList.add(TimelineElement.STYLE_SPACER);\r\n      this.resSpacerDiv.style.width = spaceLeft + \"px\";\r\n      this.resSpacerDiv.innerText = \" \";\r\n      this.resolutionDiv.appendChild(this.resSpacerDiv);\r\n    } else {\r\n      this.hideSpacerBlocks();\r\n    }\r\n  }\r\n\r\n  hideSpacerBlocks() {\r\n    for (let e of this.spacerBlocks) {\r\n      e.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set minimum width (pixels) of this widget's root DIV element. Default is\r\n   * -1. Notice that\r\n   * {@link #update(Resolution, long, long, int, int, LocaleDataProvider)}\r\n   * will calculate min-width and call this internally.\r\n   *\r\n   * @param minWidth\r\n   *            Minimum width in pixels.\r\n   */\r\n  setMinWidth(minWidth: number) {\r\n      this.minWidth = minWidth;\r\n      this.style.minWidth = this.minWidth + \"px\";\r\n      this.resolutionDiv.style.minWidth = this.minWidth + \"px\";\r\n  }\r\n\r\n  /**\r\n   * Returns true if the timeline is overflowing the parent's width. This\r\n   * works only when this widget is attached to some parent.\r\n   *\r\n   * @return True when timeline width is more than the parent's width (@see\r\n   *         {@link Element#getClientWidth()}).\r\n   */\r\n  isTimelineOverflowingHorizontally(): boolean {\r\n    return this.timelineOverflowingHorizontally;\r\n  }\r\n\r\n  /**\r\n  * Update horizontal overflow state.\r\n  */\r\n  updateTimelineOverflowingHorizontally() {\r\n    this.timelineOverflowingHorizontally = (ElementUtil.getWidth(this.resolutionDiv) > ElementUtil.getWidth(this.getParentElement(this)));\r\n  }\r\n\r\n  createTimelineElementsOnVisibleArea() {\r\n    // create place holder elements that represents weeks/days/hours\r\n    // depending on the resolution in the timeline.\r\n    // Only visible blocks are created, and only once, content will change\r\n    // on scroll.\r\n\r\n    // first: detect how many blocks we can fit in the screen\r\n    let blocks: number = this.resolutionBlockCount;\r\n    if (this.isTimelineOverflowingHorizontally()) {\r\n      blocks = Math.floor((ElementUtil.getWidth(this.getParentElement(this))\r\n        / this.calculateMinimumResolutionBlockWidth()));\r\n      if (this.resolutionBlockCount < blocks) {\r\n        // blocks need to be scaled up to fit the screen\r\n        blocks = this.resolutionBlockCount;\r\n      } else {\r\n        blocks += 2;\r\n      }\r\n    }\r\n\r\n    let element: HTMLDivElement = null;\r\n    for (let i = 0; i < blocks; i++) {\r\n      switch (this.resolution) {\r\n        case Resolution.Hour:\r\n          element = this.createHourResolutionBlock();\r\n          break;\r\n        case Resolution.Day:\r\n          element = this.createDayResolutionBlock();\r\n          break;\r\n        case Resolution.Week:\r\n          element = this.createWeekResolutionBlock();\r\n          break;\r\n      }\r\n      this.resolutionDiv.appendChild(element);\r\n    }\r\n\r\n    console.log(`TimelineElement Added ${blocks} visible timeline elements for resolution ${Resolution[this.resolution]}`);\r\n  }\r\n\r\n  calculateMinimumResolutionBlockWidth(): number {\r\n    if (this.resolution === Resolution.Week) {\r\n      return DateTimeConstants.DAYS_IN_WEEK * this.minResolutionWidth;\r\n    }\r\n    return this.minResolutionWidth;\r\n  }\r\n\r\n  createResolutionBlock(): HTMLDivElement {\r\n    let resBlock: HTMLDivElement = document.createElement('div');\r\n    resBlock.classList.add(\"col\");\r\n    return resBlock;\r\n  }\r\n\r\n  createHourResolutionBlock(): HTMLDivElement {\r\n    let resBlock: HTMLDivElement = this.createResolutionBlock();\r\n    resBlock.classList.add(\"h\", TimelineElement.STYLE_CENTER);\r\n    return resBlock;\r\n  }\r\n\r\n  createDayResolutionBlock(): HTMLDivElement {\r\n    let resBlock: HTMLDivElement = this.createResolutionBlock();\r\n    resBlock.classList.add(TimelineElement.STYLE_CENTER);\r\n    return resBlock;\r\n  }\r\n\r\n  createWeekResolutionBlock(): HTMLDivElement {\r\n    let resBlock: HTMLDivElement = this.createResolutionBlock();\r\n    resBlock.classList.add(\"w\", TimelineElement.STYLE_CENTER);\r\n    return resBlock;\r\n  }\r\n\r\n  fillVisibleTimeline() {\r\n    if (this.isTimelineOverflowingHorizontally()) {\r\n      this.showResolutionBlocksOnView();\r\n    } else {\r\n      this.showAllResolutionBlocks();\r\n    }\r\n  }\r\n\r\n  showResolutionBlocksOnView() {\r\n    let positionLeftSnapshot: number = this.positionLeft;\r\n    let datePos: number = positionLeftSnapshot;\r\n    this.firstWeekBlockHidden = false;\r\n\r\n    let left: number = Math.floor(positionLeftSnapshot);\r\n    if (positionLeftSnapshot > 0 && this.resBlockWidthPx > 0) {\r\n      let overflow: number = 0.0;\r\n      let firstResBlockShort: boolean = this.isFirstResBlockShort();\r\n      overflow = this.getScrollOverflowForResolutionBlock(positionLeftSnapshot, left, firstResBlockShort);\r\n      left = Math.floor(positionLeftSnapshot - overflow);\r\n      datePos = this.adjustLeftPositionForDateDetection(left);\r\n    }\r\n    if (datePos < 0.0) {\r\n      datePos = positionLeftSnapshot;\r\n    }\r\n    let leftDate: Date;\r\n    let noticeDst: boolean = this.resolution === Resolution.Hour;\r\n    leftDate = this.getDateForLeftPositionNoticeDST(datePos, noticeDst);\r\n\r\n    let containerWidth: number = ElementUtil.getWidth(this.getParentElement(this));\r\n    this.fillTimelineForResolution(leftDate,\r\n      new Date(Math.min(this.internalInclusiveEndDateTime.getTime(), this.getDateForLeftPositionNoticeDST(datePos + containerWidth, noticeDst).getTime())), left);\r\n\r\n    this.style.setProperty(\"--timeline-col-position\", \"relative\");\r\n    this.style.setProperty(\"--timeline-col-left\", left + \"px\");\r\n\r\n    console.log(`TimelineElement Updated visible timeline elements for horizontal scroll position ${left} (plus ${datePos-left} to center-of-first-block)`);\r\n  }\r\n\r\n  showAllResolutionBlocks() {\r\n    this.style.setProperty(\"--timeline-col-position\", \"relative\");\r\n    this.style.setProperty(\"--timeline-col-left\", \"0px\");\r\n    this.fillTimelineForResolution(this.internalInclusiveStartDateTime, this.internalInclusiveEndDateTime, 0);\r\n  }\r\n\r\n  fillTimelineForResolution(startDate: Date, endDate: Date, left: number) {\r\n    if (this.resolution === Resolution.Day || this.resolution === Resolution.Week) {\r\n      this.fillTimelineForDayResolution(startDate, endDate, left);\r\n    } else if (this.resolution == Resolution.Hour) {\r\n      this.fillTimelineForHourResolution(startDate, endDate, left);\r\n    } else {\r\n      console.log(\"TimelineElement resolution \" + (this.resolution != null ? Resolution[this.resolution] : \"null\")\r\n        + \" is not supported\");\r\n      return;\r\n    }\r\n    console.log(\"TimelineElement Filled new data and styles to visible timeline elements\");\r\n  }\r\n\r\n  isFirstResBlockShort(): boolean {\r\n    return this.firstResBlockCount > 0 && ((this.resolution === Resolution.Week && this.firstResBlockCount < DateTimeConstants.DAYS_IN_WEEK));\r\n  }\r\n\r\n  isLastResBlockShort(): boolean {\r\n    return this.lastResBlockCount > 0 && ((this.resolution === Resolution.Week && this.lastResBlockCount < DateTimeConstants.DAYS_IN_WEEK));\r\n  }\r\n\r\n  getScrollOverflowForResolutionBlock(positionLeftSnapshot: number, left: number, firstResBlockShort: boolean): number {\r\n    let overflow: number;\r\n    if (firstResBlockShort && left <= this.getFirstResolutionElementWidth()) {\r\n      overflow = this.getScrollOverflowForShortFirstResolutionBlock(positionLeftSnapshot);\r\n    } else {\r\n      overflow = this.getScrollOverflowForRegularResoultionBlock(positionLeftSnapshot, firstResBlockShort);\r\n    }\r\n    return overflow;\r\n  }\r\n\r\n  getScrollOverflowForRegularResoultionBlock(positionLeftSnapshot: number, firstResBlockShort: boolean): number {\r\n    let overflow: number;\r\n    let firstBlockWidth: number = this.getFirstResolutionElementWidth();\r\n    let positionLeft: number = (positionLeftSnapshot - (firstResBlockShort ? firstBlockWidth : 0));\r\n    overflow = positionLeft % this.resBlockWidthPx;\r\n    if (firstResBlockShort) {\r\n      overflow += firstBlockWidth;\r\n      this.firstWeekBlockHidden = true;\r\n    }\r\n    return overflow;\r\n  }\r\n\r\n  getScrollOverflowForShortFirstResolutionBlock(positionLeftSnapshot: number): number {\r\n    let overflow;\r\n    // need to notice a short resolution block due to timeline's\r\n    // start date which is in middle of a week.\r\n    overflow = positionLeftSnapshot % this.getFirstResolutionElementWidth();\r\n    if (overflow == 0.0) {\r\n      overflow = this.getFirstResolutionElementWidth();\r\n    }\r\n    return overflow;\r\n  }\r\n\r\n  /**\r\n   * Returns a width of the first resolution block.\r\n   *\r\n   * @return\r\n   */\r\n  getFirstResolutionElementWidth(): number {\r\n    if (this.isFirstResBlockShort()) {\r\n      if (this.isTimelineOverflowingHorizontally()) {\r\n        return this.firstResBlockCount * this.minResolutionWidth;\r\n      } else {\r\n        return ElementUtil.getWidth(this.getFirstResolutionElement());\r\n      }\r\n    } else {\r\n      if (this.isTimelineOverflowingHorizontally()) {\r\n        return this.resBlockMinWidthPx;\r\n      } else {\r\n        return ElementUtil.getWidth(this.getFirstResolutionElement());\r\n      }\r\n    }\r\n  }\r\n\r\n  getFirstResolutionElement(): HTMLElement {\r\n    if (this.resolutionDiv.hasChildNodes()) {\r\n      return <HTMLElement>this.resolutionDiv.firstElementChild;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getLastResolutionElement(): HTMLElement {\r\n    let div: HTMLDivElement = this.resolutionDiv;\r\n    if (!div) {\r\n      return null;\r\n    }\r\n    let nodeList: NodeListOf<ChildNode> = div.childNodes;\r\n    if (!nodeList) {\r\n      return null;\r\n    }\r\n    let blockCount: number = nodeList.length;\r\n    if (blockCount < 1) {\r\n      return null;\r\n    }\r\n    if (this.containsResBlockSpacer()) {\r\n      let index: number = blockCount - 2;\r\n      if (blockCount > 1 && index >= 0) {\r\n        return <HTMLElement>this.resolutionDiv.childNodes.item(index);\r\n      }\r\n      return null;\r\n    }\r\n    return <HTMLElement>this.resolutionDiv.lastChild;\r\n  }\r\n\r\n  containsResBlockSpacer(): boolean {\r\n    return this.resSpacerDiv != null && this.resSpacerDiv.parentElement\r\n      && this.resSpacerDiv.parentElement === this.resolutionDiv;\r\n  }\r\n\r\n  removeResolutionSpacerBlock() {\r\n    if (this.containsResBlockSpacer()) {\r\n      this.resSpacerDiv.parentNode.removeChild(this.resSpacerDiv);\r\n    }\r\n  }\r\n\r\n  /*\r\n * Calculates either day or hour resolution block width depending on the\r\n * current resolution.\r\n */\r\n  calculateDayOrHourResolutionBlockWidthPx(blockCount: number): number {\r\n    let dayOrHourWidthPx: number = Math.round(this.resolutionDiv.clientWidth / blockCount);\r\n    while ((blockCount * dayOrHourWidthPx) < this.resolutionDiv.clientWidth) {\r\n      dayOrHourWidthPx++;\r\n    }\r\n    return dayOrHourWidthPx;\r\n  }\r\n\r\n  /*\r\n * Calculates the actual width of one resolution block element. For example:\r\n * week resolution will return 7 * dayOrHourBlockWidthPx.\r\n */\r\n  calculateActualResolutionBlockWidthPx(dayOrHourBlockWidthPx: number): number {\r\n    if (this.resolution === Resolution.Week) {\r\n      return DateTimeConstants.DAYS_IN_WEEK * dayOrHourBlockWidthPx;\r\n    }\r\n    return dayOrHourBlockWidthPx;\r\n  }\r\n\r\n  /**\r\n * Adjust left position for optimal position to detect accurate date with\r\n * the current resolution.\r\n */\r\n  adjustLeftPositionForDateDetection(left: number): number {\r\n    let datePos: number;\r\n    if (this.resolution === Resolution.Week) {\r\n      // detect date from the center of the first day block inside the\r\n      // week block.\r\n      datePos = left + this.dayOrHourWidthPx / 2;\r\n    } else {\r\n      // detect date from the center of the block (day/hour)\r\n      datePos = left + this.resBlockWidthPx / 2;\r\n    }\r\n    return datePos;\r\n  }\r\n\r\n  createCalcCssValue(v: number, multiplier: number): string {\r\n    if (this.ie) {\r\n      // see comments in createCalcCssValue(int, Integer)\r\n      let percents: number = 100.0 / v * multiplier;\r\n      return \"calc(\" + percents + \"%)\";\r\n    }\r\n    return null;\r\n  }\r\n\r\n  updateResolutionBlockWidths(pct: string) {\r\n    if (this.setPositionForEachBlock) {\r\n      if (!this.isTimelineOverflowingHorizontally()) {\r\n        this.resolutionDiv.style.display = \"flex\";\r\n      } else {\r\n        this.resolutionDiv.style.removeProperty(\"display\");\r\n      }\r\n      let firstResBlockIsShort: boolean = this.isFirstResBlockShort();\r\n      let lastResBlockIsShort: boolean = this.isLastResBlockShort();\r\n      // when setPositionForEachBlock is true, set width for each block explicitly.\r\n      let count: number = this.resolutionDiv.childElementCount;\r\n      if (this.containsResBlockSpacer()) {\r\n        count--;\r\n      }\r\n      let lastIndex: number = count - 1;\r\n      let i: number;\r\n      let resBlock: HTMLElement;\r\n      for (i = 0; i < count; i++) {\r\n        resBlock = <HTMLElement>this.resolutionDiv.childNodes.item(i);\r\n\r\n        // first and last week blocks may be thinner than other\r\n        // resolution blocks.\r\n        if (firstResBlockIsShort && i == 0) {\r\n          this.setWidth(resBlock, this.firstResBlockCount);\r\n        } else if (lastResBlockIsShort && i == lastIndex) {\r\n          this.setWidth(resBlock, this.lastResBlockCount);\r\n        } else {\r\n          this.setWidthPct(this.resBlockWidthPx, pct, resBlock);\r\n        }\r\n      }\r\n\r\n    } else {\r\n      // set widths by updating injected styles in one place. Faster than\r\n      // setting widths explicitly for each element.\r\n      let center: string = this.getWidthStyleValue(pct);\r\n      let first: string = center;\r\n      let last: string = center;\r\n      if (this.isFirstResBlockShort()) {\r\n        first = this.getWidth(this.firstResBlockCount);\r\n      }\r\n      if (this.isLastResBlockShort()) {\r\n        last = this.getWidth(this.lastResBlockCount);\r\n      }\r\n      this.style.setProperty(\"--timeline-col-center-width\", center);\r\n      this.style.setProperty(\"--timeline-col-first-width\", first);\r\n      this.style.setProperty(\"--timeline-col-last-width\", last);\r\n    }\r\n  }\r\n\r\n  getWidth(multiplier: number): string {\r\n    if (this.isTimelineOverflowingHorizontally()) {\r\n      return (multiplier * this.minResolutionWidth) + \"px\";\r\n    } else {\r\n      if (this.isAlwaysCalculatePixelWidths()) {\r\n        return multiplier * this.dayOrHourWidthPx + \"px\";\r\n      } else {\r\n        return this.getCssPercentageWidth(this.blocksInRange, this.dayWidthPercentage, multiplier);\r\n      }\r\n    }\r\n  }\r\n\r\n  setWidth(element: HTMLElement, multiplier: number) {\r\n    if (this.isTimelineOverflowingHorizontally()) {\r\n      element.style.width = (multiplier * this.minResolutionWidth) + \"px\";\r\n    } else {\r\n      if (this.isAlwaysCalculatePixelWidths()) {\r\n        element.style.width = (multiplier * this.dayOrHourWidthPx) + \"px\";\r\n      } else {\r\n        this.setCssPercentageWidth(element, this.blocksInRange, this.dayWidthPercentage, multiplier);\r\n      }\r\n    }\r\n  }\r\n\r\n  setWidthPct(resBlockWidthPx: number, pct: string, element: HTMLElement) {\r\n    if (this.isTimelineOverflowingHorizontally()) {\r\n      element.style.width = this.resBlockMinWidthPx + \"px\";\r\n    } else {\r\n      if (this.isAlwaysCalculatePixelWidths()) {\r\n        element.style.width = resBlockWidthPx + \"px\";\r\n      } else {\r\n        if (this.ie) {\r\n          element.style.flex = \"1\";\r\n        }\r\n        this.setCssPercentageWidthFor(element, this.resBlockWidthPercentage, pct);\r\n      }\r\n    }\r\n  }\r\n\r\n  setCssPercentageWidth(element: HTMLElement, daysInRange: number, width: number, position: number) {\r\n    let pct: string = this.createCalcCssValue(daysInRange, position);\r\n    this.setCssPercentageWidthFor(element, position * width, pct);\r\n  }\r\n\r\n  getCssPercentageWidth(daysInRange: number, width: number, position: number): string {\r\n    let pct: string = this.createCalcCssValue(daysInRange, position);\r\n    return this.getPercentageWidthString(position * width, pct);\r\n  }\r\n\r\n  setCssPercentageWidthFor(element: HTMLElement, nValue: number, pct: string) {\r\n    if (pct) {\r\n      element.style.width = pct;\r\n    } else {\r\n      element.style.width = nValue + \"%\";\r\n    }\r\n  }\r\n\r\n  getPercentageWidthString(nValue: number, pct: string): string {\r\n    if (pct) {\r\n      return pct;\r\n    } else {\r\n      return nValue + \"%\";\r\n    }\r\n  }\r\n\r\n  getWidthStyleValue(pct: string): string {\r\n    if (this.isTimelineOverflowingHorizontally()) {\r\n      return this.resBlockMinWidthPx + \"px\";\r\n    } else {\r\n      if (this.isAlwaysCalculatePixelWidths()) {\r\n        return this.resBlockWidthPx + \"px\";\r\n      } else {\r\n        return this.getPercentageWidthString(this.resBlockWidthPercentage, pct);\r\n      }\r\n    }\r\n  }\r\n\r\n  fillTimelineForHourResolution(startDate: Date, endDate: Date, left: number) {\r\n    let timeline = this;\r\n    this.firstDay = true;\r\n    let hourCounter: number;\r\n    let even: boolean;\r\n    this.fillTimelineForHour(DateTimeConstants.HOUR_INTERVAL, startDate, endDate, <IResolutionBlockFiller>{\r\n\r\n      setup() {\r\n        hourCounter = this.getFirstHourOfVisibleRange(startDate);\r\n        even = this.isEven(startDate);\r\n      },\r\n\r\n      fillResolutionBlock(index: number, date: Date, currentYear: string, lastTimelineBlock: boolean) {\r\n        let childCount: number = timeline.resolutionDiv.childElementCount;\r\n        if (timeline.isValidChildIndex(index, childCount)) {\r\n          let resBlock: HTMLDivElement = <HTMLDivElement>timeline.resolutionDiv.childNodes.item(index);\r\n          timeline.fillHourResolutionBlock(resBlock, date, index, hourCounter, lastTimelineBlock, left, even);\r\n          hourCounter = (hourCounter + 1) % 24;\r\n          even = !even;\r\n        } else {\r\n          timeline.logIndexOutOfBounds(\"hour\", index, childCount);\r\n          return;\r\n        }\r\n      },\r\n\r\n      isEven(startDate: Date): boolean {\r\n        let normalDate: Date = timeline.toNormalDate(startDate);\r\n        if (timeline.normalStartDate.getTime() < normalDate.getTime()) {\r\n          let hours: number = Math.floor(((normalDate.getTime() - timeline.normalStartDate.getTime()) / DateTimeConstants.HOUR_INTERVAL));\r\n          return (hours % 2) == 1;\r\n        }\r\n        return false;\r\n      },\r\n\r\n      getFirstHourOfVisibleRange(startDate: Date): number {\r\n        let normalDate: Date = timeline.toNormalDate(startDate);\r\n        if (timeline.normalStartDate.getTime() < normalDate.getTime()) {\r\n          let hours: number = Math.floor(((normalDate.getTime() - timeline.normalStartDate.getTime()) / DateTimeConstants.HOUR_INTERVAL));\r\n          return ((timeline.firstHourOfRange + hours) % 24);\r\n        }\r\n        return timeline.firstHourOfRange;\r\n      }\r\n    });\r\n  }\r\n\r\n  fillTimelineForDayResolution(startDate: Date, endDate: Date, left: number) {\r\n    let timeline = this;\r\n    let dayCounter: number;\r\n    let even: boolean;\r\n    let firstWeek: boolean = true;\r\n    let weekIndex: number = 0;\r\n    let weekday: Weekday;\r\n\r\n    this.fillTimelineForDayOrWeek(DateTimeConstants.DAY_INTERVAL, startDate, endDate, <IResolutionBlockFiller>{\r\n      setup: function () {\r\n        dayCounter = this.getFirstDayOfVisibleRange(startDate);\r\n        even = this.isEven(startDate, timeline.firstDayOfRange);\r\n      },\r\n\r\n      fillResolutionBlock: function (index: number, date: Date, currentYear: string, lastTimelineBlock: boolean) {\r\n        try {\r\n          weekday = timeline.getWeekday(dayCounter);\r\n\r\n          if (timeline.resolution === Resolution.Week) {\r\n            this.fillWeekBlock(left, index, date, lastTimelineBlock);\r\n          } else {\r\n            this.fillDayBlock(left, index, date);\r\n          }\r\n\r\n        } finally {\r\n          dayCounter = Math.max((dayCounter + 1) % 8, 1);\r\n        }\r\n      },\r\n\r\n      fillDayBlock: function (left: number, index: number, date: Date) {\r\n        let childCount: number = timeline.resolutionDiv.childElementCount;\r\n        if (timeline.isValidChildIndex(index, childCount)) {\r\n          let resBlock: HTMLDivElement = <HTMLDivElement>timeline.resolutionDiv.childNodes.item(index);\r\n          timeline.fillDayResolutionBlock(resBlock, date, index, timeline.isWeekEnd(dayCounter), left);\r\n        } else {\r\n          timeline.logIndexOutOfBounds(\"day\", index, childCount);\r\n          return;\r\n        }\r\n      },\r\n\r\n      fillWeekBlock: function (left: number, index: number, date: Date, lastTimelineBlock: boolean) {\r\n        let resBlock: HTMLDivElement = null;\r\n        if (index > 0 && weekday == Weekday.First) {\r\n          weekIndex++;\r\n          firstWeek = false;\r\n          even = !even;\r\n        }\r\n        if (index == 0 || weekday == Weekday.First) {\r\n          let childCount: number = timeline.resolutionDiv.childElementCount;\r\n          if (timeline.isValidChildIndex(weekIndex, childCount)) {\r\n            resBlock = <HTMLDivElement>timeline.resolutionDiv.childNodes.item(weekIndex);\r\n          } else {\r\n            timeline.logIndexOutOfBounds(\"week\", weekIndex, childCount);\r\n            return;\r\n          }\r\n        }\r\n        timeline.fillWeekResolutionBlock(resBlock, date, weekIndex, weekday, firstWeek, lastTimelineBlock, left, even);\r\n      },\r\n\r\n      calcDaysLeftInFirstWeek: function (startDay: number): number {\r\n        let daysLeftInWeek: number = 0;\r\n        if (startDay != timeline.firstDayOfWeek) {\r\n          for (let i = startDay; ; i++) {\r\n            daysLeftInWeek++;\r\n            if (Math.max(i % 8, 1) === timeline.lastDayOfWeek) {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return daysLeftInWeek;\r\n      },\r\n\r\n      isEven: function (startDate: Date, startDay: number): boolean {\r\n        let visibleRangeNormalStartDate: Date = timeline.toNormalDate(startDate);\r\n        if (timeline.normalStartDate.getTime() < visibleRangeNormalStartDate.getTime()) {\r\n          let daysHidden: number = Math.floor(((visibleRangeNormalStartDate.getTime() - timeline.normalStartDate.getTime()) / DateTimeConstants.DAY_INTERVAL));\r\n          console.log(\"Days hidden: \" + daysHidden);\r\n          console.log(\"firstWeekBlockHidden = \" + timeline.firstWeekBlockHidden);\r\n          if (daysHidden === 0) {\r\n            return false;\r\n          }\r\n          let daysLeftInFirstWeek: number = this.calcDaysLeftInFirstWeek(startDay);\r\n          if (daysHidden > daysLeftInFirstWeek) {\r\n            daysHidden -= daysLeftInFirstWeek;\r\n          }\r\n          let weeks: number = daysHidden / DateTimeConstants.DAYS_IN_WEEK;\r\n          let even: boolean = (weeks % 2) === 1;\r\n          return (timeline.firstWeekBlockHidden) ? !even : even;\r\n        }\r\n        return false;\r\n      },\r\n\r\n      getFirstDayOfVisibleRange: function (startDate: Date): number {\r\n        let visibleRangeNormalStartDate: Date = timeline.toNormalDate(startDate);\r\n        if (timeline.normalStartDate.getTime() < visibleRangeNormalStartDate.getTime()) {\r\n          let days: number = Math.floor(((visibleRangeNormalStartDate.getTime() - timeline.normalStartDate.getTime()) / DateTimeConstants.DAY_INTERVAL));\r\n          return ((timeline.firstDayOfRange - 1 + days) % 7) + 1;\r\n        }\r\n        return timeline.firstDayOfRange;\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  logIndexOutOfBounds(indexName: string, index: number, childCount: number) {\r\n    console.log(\"${indexName} index ${index} out of bounds with childCount ${childCount}. Can't fill content.\");\r\n  }\r\n\r\n  fillTimelineForHour(interval: number, startDate: Date, endDate: Date,\r\n    resBlockFiller: IResolutionBlockFiller) {\r\n    let currentYear: string = null;\r\n    let pos: Date = startDate;\r\n    let end: Date = endDate;\r\n    let index: number = 0;\r\n    let lastTimelineBlock: boolean = false;\r\n    let date: Date;\r\n\r\n    resBlockFiller.setup();\r\n\r\n    while (pos <= end) {\r\n      date = pos;\r\n      let nextHour: Date = new Date(pos.getTime() + interval);\r\n      lastTimelineBlock = nextHour.getTime() > end.getTime();\r\n\r\n      resBlockFiller.fillResolutionBlock(index, date, currentYear, lastTimelineBlock);\r\n\r\n      pos = nextHour;\r\n      index++;\r\n    }\r\n  }\r\n\r\n  fillTimelineForDayOrWeek(interval: number, startDate: Date, endDate: Date, resBlockFiller: IResolutionBlockFiller) {\r\n    let currentYear: string = null;\r\n    let pos: Date = startDate;\r\n    pos = DateUtil.adjustToMiddleOfDay(pos, this.localeDataProvider.getTimeZone());\r\n    let end: Date = endDate;\r\n    let index: number = 0;\r\n    let lastTimelineBlock: boolean = false;\r\n    let date: Date;\r\n    let isDST: boolean = false;\r\n    let previousIsDST: boolean = this.localeDataProvider.isDaylightTime(startDate);\r\n    \r\n    resBlockFiller.setup();\r\n\r\n    while (!lastTimelineBlock) {\r\n      let dstAdjusted: Date = this.getDSTAdjustedDate(previousIsDST, pos);\r\n      date = dstAdjusted;\r\n      pos = dstAdjusted;\r\n      isDST = this.localeDataProvider.isDaylightTime(date);\r\n      lastTimelineBlock = this.getDSTAdjustedDate(isDST, new Date(date.getTime() + interval)).getTime() > end.getTime();\r\n\r\n      resBlockFiller.fillResolutionBlock(index, date, currentYear, lastTimelineBlock);\r\n\r\n      previousIsDST = isDST;\r\n      pos = new Date(pos.getTime() + interval);\r\n      index++;\r\n    }\r\n  }\r\n\r\n  isValidChildIndex(index: number, childCount: number): boolean {\r\n    return (index >= 0) && (index < childCount);\r\n  }\r\n\r\n  fillDayResolutionBlock(resBlock: HTMLDivElement, date: Date, index: number, weekend: boolean, left: number) {\r\n    resBlock.innerText = this.localeDataProvider.formatDate(date, \"d\");\r\n    if (weekend) {\r\n      resBlock.classList.add(TimelineElement.STYLE_WEEKEND);\r\n    } else {\r\n      resBlock.classList.remove(TimelineElement.STYLE_WEEKEND);\r\n    }\r\n\r\n    if (this.setPositionForEachBlock && this.isTimelineOverflowingHorizontally()) {\r\n      resBlock.style.position = \"relative\";\r\n      resBlock.style.left = left + \"px\";\r\n    }\r\n  }\r\n\r\n  fillWeekResolutionBlock(resBlock: HTMLDivElement, date: Date, index: number, weekDay: Weekday, firstWeek: boolean,\r\n    lastBlock: boolean, left: number, even: boolean) {\r\n    if (resBlock != null) {\r\n      resBlock.innerText = this.formatWeekCaption(date);\r\n\r\n      if (even) {\r\n        resBlock.classList.add(TimelineElement.STYLE_EVEN);\r\n      } else {\r\n        resBlock.classList.remove(TimelineElement.STYLE_EVEN);\r\n      }\r\n\r\n      if (this.setPositionForEachBlock && this.isTimelineOverflowingHorizontally()) {\r\n        resBlock.style.position = \"relative\";\r\n        resBlock.style.left = left + \"px\";\r\n      }\r\n\r\n      resBlock.classList.remove(TimelineElement.STYLE_FIRST, TimelineElement.STYLE_LAST);\r\n    }\r\n\r\n    if (firstWeek && (weekDay === Weekday.Last || lastBlock)) {\r\n      let firstEl: HTMLElement = <HTMLElement>this.resolutionDiv.firstElementChild;\r\n      if (!firstEl.classList.contains(TimelineElement.STYLE_FIRST)) {\r\n        firstEl.classList.add(TimelineElement.STYLE_FIRST);\r\n      }\r\n    } else if (lastBlock) {\r\n      let lastEl: HTMLElement = <HTMLElement>this.resolutionDiv.lastChild;\r\n      if (!lastEl.classList.contains(TimelineElement.STYLE_LAST)) {\r\n        lastEl.classList.add(TimelineElement.STYLE_LAST);\r\n      }\r\n    }\r\n  }\r\n\r\n  fillHourResolutionBlock(resBlock: HTMLDivElement, date: Date, index: number, hourCounter: number, lastBlock: boolean,\r\n    left: number, even: boolean) {\r\n    if (this.localeDataProvider.isTwelveHourClock()) {\r\n      resBlock.innerText = this.localeDataProvider.formatTime(date, \"h\");\r\n    } else {\r\n      resBlock.innerText = this.localeDataProvider.formatTime(date, \"HH\");\r\n    }\r\n\r\n    if (even) {\r\n      resBlock.classList.add(TimelineElement.STYLE_EVEN);\r\n    } else {\r\n      resBlock.classList.remove(TimelineElement.STYLE_EVEN);\r\n\r\n    }\r\n\r\n    if (this.firstDay && (hourCounter == 24 || lastBlock)) {\r\n      this.firstDay = false;\r\n      this.firstResBlockCount = index + 1;\r\n    } else if (lastBlock) {\r\n      this.lastResBlockCount = (index + 1 - this.firstResBlockCount) % 24;\r\n    }\r\n\r\n    if (this.setPositionForEachBlock && this.isTimelineOverflowingHorizontally()) {\r\n      resBlock.style.position = \"relative\";\r\n      resBlock.style.left = left + \"px\";\r\n    }\r\n  }\r\n}\r\n", "import { LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\nimport { query } from 'lit-element/decorators.js';\r\nimport { GanttElement } from './gantt-element';\r\n\r\ntype Constructor<T = object> = {\r\n    new(...args: any[]): T;\r\n    prototype: T;\r\n};\r\n\r\nexport interface GanttScrollerInterface {\r\n    _container: HTMLDivElement;\r\n    registerScrollElement(scrollElement: HTMLElement): void;\r\n}\r\n\r\nexport const GanttScrollerMixin = <T extends Constructor<LitElement>>(\r\n    base: T\r\n): T & Constructor<GanttScrollerInterface> => {\r\n    class GanttScrollerMixin extends base implements GanttScrollerInterface {\r\n\r\n        @query('#container') _container: HTMLDivElement;\r\n\r\n        _scrollElement: HTMLElement;\r\n        _handleScrollElementScroll: (this: HTMLElement, ev: Event) => any;\r\n        _handleContainerScroll: (this: HTMLElement, ev: Event) => any;\r\n        _pauseScrollElementScroll: any;\r\n        _pauseContainerScroll: any;\r\n\r\n        /**\r\n         * Register additional scroll event handler to the given element. scrollTop from gantt container will be delegated\r\n         * to the given element and vice versa.\r\n         * @param scrollElement Any scrollable element with scrollTop property or null to clear scroll element.\r\n         */\r\n        public registerScrollElement(scrollElement: HTMLElement): void {\r\n            if (!scrollElement) { \r\n                if(this._scrollElement) {\r\n                    this._scrollElement.removeEventListener('scroll', this._handleScrollElementScroll);\r\n                    this._container.removeEventListener('scroll', this._handleContainerScroll);\r\n                }\r\n                this._scrollElement = scrollElement;\r\n                return;\r\n            }\r\n            this._scrollElement = scrollElement;\r\n            let self = this;\r\n            this.updateComplete.then(() => {\r\n                let container = self._container;\r\n                self._handleScrollElementScroll = () => self._onHandleScrollElementScroll(self);\r\n                self._handleContainerScroll = () => self._onHandleContainerScroll(self);\r\n                scrollElement.addEventListener('scroll', self._handleScrollElementScroll);\r\n                container.addEventListener('scroll', self._handleContainerScroll);\r\n            });\r\n        }\r\n\r\n        _onHandleScrollElementScroll(ganttElement: GanttScrollerMixin) {\r\n            let self = this;\r\n            clearTimeout(self._pauseContainerScroll);\r\n            if(ganttElement._scrollElement.scrollTop == ganttElement._container.scrollTop) {\r\n                return;\r\n            }\r\n            self._container.removeEventListener('scroll', self._handleContainerScroll);\r\n            requestAnimationFrame(() => {\r\n                ganttElement._container.scrollTop = ganttElement._scrollElement.scrollTop > 0 ? ganttElement._scrollElement.scrollTop : 0;\r\n            });\r\n            self._pauseContainerScroll = setTimeout(() => self._container.addEventListener('scroll', self._handleContainerScroll), 50);\r\n        }\r\n\r\n        _onHandleContainerScroll(ganttElement: GanttScrollerMixin) {\r\n            let self = this;\r\n            clearTimeout(self._pauseScrollElementScroll);\r\n            if(ganttElement._scrollElement.scrollTop == ganttElement._container.scrollTop) {\r\n                return;\r\n            }\r\n            self._scrollElement.removeEventListener('scroll', self._handleScrollElementScroll);\r\n            requestAnimationFrame(() => {\r\n                ganttElement._scrollElement.scrollTop = ganttElement._container.scrollTop > 0 ? ganttElement._container.scrollTop : 0;\r\n            });\r\n            self._pauseScrollElementScroll = setTimeout(() => self._scrollElement.addEventListener('scroll', self._handleScrollElementScroll), 50);\r\n        }\r\n   \r\n    }\r\n    return GanttScrollerMixin;\r\n};", "import { LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\nimport { query } from 'lit-element/decorators.js';\r\nimport { GanttStepElement } from './gantt-step-element';\r\nimport { GanttSubStepsBase } from './gantt-substeps-base';\r\nimport * as ElementUtil from 'tltv-timeline-element/dist/src/util/elementUtil.js';\r\nimport 'tltv-timeline-element/dist/src/timeline-element.js';\r\nimport { GanttScrollerMixin } from './gantt-scroller-mixin';\r\nimport {getElementHeightWithMargin} from \"./util/ganttUtil\";\r\n\r\nexport interface GanttStepsInterface {\r\n    _steps: Array<GanttStepElement>;\r\n    _ganttContainer: HTMLDivElement;\r\n    _content: HTMLDivElement;\r\n    getContentWidth(): number;\r\n    getContent(): HTMLDivElement;\r\n    handleSlotchange(e: Event): void;\r\n    findStepElement(startFromStep: GanttStepElement, startTopY: number, startBottomY: number, newY: number, deltay: number): GanttStepElement;\r\n}\r\n\r\nexport class GanttStepsBase extends GanttScrollerMixin(LitElement) implements GanttStepsInterface {\r\n\r\n    _steps: Array<GanttStepElement> = [];\r\n    \r\n    @query('#gantt-container') _ganttContainer: HTMLDivElement;\r\n    @query('#content') _content: HTMLDivElement;\r\n\r\n    public getContentWidth() {\r\n        return ElementUtil.getWidth(this.getContent());\r\n    }\r\n\r\n    public getContentHeight() {\r\n        return ElementUtil.getHeight(this.getContent());\r\n    }\r\n\r\n    public getContent() {\r\n        return this._content;\r\n    }\r\n\r\n    /** Returns offset top in pixels relative to content top edge. */\r\n    getOffsetTopContentElement(element: HTMLElement): number {\r\n        if(element instanceof GanttSubStepsBase && element.substep) {\r\n            return this.getOffsetTop(element.owner);\r\n        }\r\n        return this.getOffsetTop(element);\r\n    }\r\n\r\n    getOffsetTop(element: HTMLElement): number {\r\n        if ((element instanceof GanttSubStepsBase && element.substep) || element.offsetParent === this._content) {\r\n            return element.offsetTop;\r\n        } else if (element.offsetParent === this) {\r\n            // FireFox reports root element as offsetParent for slotted steps\r\n            return element.offsetTop - this._container.offsetTop;\r\n        } else {\r\n            throw \"element.offsetParent should be either content or gantt element\";\r\n        }\r\n    }\r\n\r\n    /** Returns offset left in pixels relative to content left edge. */\r\n    getOffsetLeftContentElement(element: HTMLElement): number {\r\n        if(element instanceof GanttSubStepsBase && element.substep) {\r\n            return this.getOffsetLeft(element.owner);\r\n        }\r\n        return this.getOffsetLeft(element);\r\n    }\r\n\r\n    getOffsetLeft(element: HTMLElement): number {\r\n        if ((element instanceof GanttSubStepsBase && element.substep) || element.offsetParent === this._content) {\r\n            return element.offsetLeft;\r\n        } else if (element.offsetParent === this) {\r\n            // FireFox reports root element as offsetParent for slotted steps\r\n            return element.offsetLeft - this._container.offsetLeft;\r\n        } else {\r\n            throw \"element.offsetParent should be either content or gantt element\";\r\n        }\r\n    }\r\n\r\n    handleSlotchange(e: Event) {\r\n        let slot: HTMLSlotElement = <HTMLSlotElement>e.target;\r\n        this._steps = slot.assignedElements({ flatten: true }).map(element => <GanttStepElement>element);\r\n        this._steps.forEach((step, index) => step.position = index);\r\n        this.initStepsYPosition();\r\n        console.log(`GanttElement.handleSlotchange ended with ${this._steps.length} step(s)`);\r\n    }\r\n\r\n    findStepIndexAt(topY: number): number {\r\n        let step: GanttStepElement;\r\n        for (let index = 0; index < this._steps.length; index++) {\r\n            step = this._steps[index];\r\n            if (this.isBetween(topY, this.getOffsetTop(step),\r\n                (this.getOffsetTop(step) + step.offsetHeight))) {\r\n                return index;\r\n            }\r\n        };\r\n        return null;\r\n    }\r\n\r\n    /**\r\n    * Helper method to find Step element by given starting point and y-position\r\n    * and delta-y. Starting point is there to optimize performance a bit as\r\n    * there's no need to iterate through every single step element.\r\n    *\r\n    * @param startFromStep\r\n    *            Starting point element\r\n    * @param startTopY\r\n    * @param startBottomY\r\n    * @param newY\r\n    *            target y-axis position (relative to scroll container)\r\n    * @param deltay\r\n    *            delta-y relative to starting point element.\r\n    * @return Step element at y-axis position. May be same element as given\r\n    *         startFromBar element.\r\n    */\r\n    findStepElement(startFromStep: GanttStepElement, startTopY: number, startBottomY: number, newY: number, deltay: number): GanttStepElement {\r\n        let substep: boolean = startFromStep.substep;\r\n        if (substep) {\r\n            startFromStep = startFromStep.owner;\r\n        }\r\n\r\n        if (this.isBetween(newY, startTopY, startBottomY)) {\r\n            console.log(\"findStepElement returns same: Y \" + newY + \" between \" + startTopY + \"-\" + startBottomY);\r\n            return startFromStep;\r\n        }\r\n        let startIndex: number = this._steps.indexOf(startFromStep);\r\n        let stepCandidate: GanttStepElement;\r\n        let i: number = startIndex;\r\n        if (deltay > 0) {\r\n            i++;\r\n            for (; i < this._steps.length; i++) {\r\n                stepCandidate = this._steps[i];\r\n                if (this.isBetween(newY, this.getOffsetTop(stepCandidate),\r\n                    (this.getOffsetTop(stepCandidate) + stepCandidate.offsetHeight))) {\r\n                    return stepCandidate;\r\n                }\r\n            }\r\n        } else if (deltay < 0) {\r\n            i--;\r\n            for (; i >= 0; i--) {\r\n                stepCandidate = this._steps[i];\r\n                if (this.isBetween(newY, this.getOffsetTop(stepCandidate),\r\n                    (this.getOffsetTop(stepCandidate) + stepCandidate.offsetHeight))) {\r\n                    return stepCandidate;\r\n                }\r\n            }\r\n        }\r\n        return startFromStep;\r\n    }\r\n\r\n    private isBetween(v: number, includeMin: number, includeMax: number): boolean {\r\n        return v >= includeMin && v <= includeMax;\r\n    }\r\n\r\n    public getSteps(): Array<GanttStepElement> {\r\n        return this._steps;\r\n    }\r\n\r\n    private initStepsYPosition() {\r\n        // set top positions for steps\r\n        // do it in next event loop to make sure all steps are rendered at right positions, taking into account margins\r\n        setTimeout(() => {\r\n            let currentTopPosition: number = 0;\r\n            this._steps.forEach((step) => {\r\n                if (!step.substep) {\r\n                    step.style.top = currentTopPosition + \"px\";\r\n                    currentTopPosition += getElementHeightWithMargin(step);\r\n                }\r\n            });\r\n        }, 0);\r\n    }\r\n}", "import { LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\nimport { query } from 'lit-element/decorators.js';\r\nimport { GanttTimelineMixin } from './gantt-timeline-mixin';\r\nimport { GanttStepElement } from './gantt-step-element';\r\nimport * as GanttUtil from './util/ganttUtil';\r\nimport * as ElementUtil from 'tltv-timeline-element/dist/src/util/elementUtil.js';\r\nimport { GanttStepsBase } from './gantt-steps-base';\r\nimport { format, formatInTimeZone } from 'date-fns-tz';\r\nimport { getElementHeightWithMargin } from './util/ganttUtil';\r\n\r\nexport interface GanttEventsInterface {\r\n  movableSteps: boolean;\r\n  resizableSteps: boolean\r\n  movableStepsBetweenRows: boolean;\r\n  touching: boolean;\r\n  moveElement: HTMLDivElement;\r\n  handleTouchStart(event: TouchEvent): void;\r\n  handleMouseDown(event: MouseEvent): void;\r\n}\r\n\r\ndeclare global {\r\n  interface Window { GanttElementEvents: GanttEventsBase; }\r\n}\r\n\r\nexport class GanttEventsBase extends GanttTimelineMixin(GanttStepsBase) implements GanttEventsInterface {\r\n\r\n  @property({ reflect: true, type: Boolean }) movableSteps: boolean = true;\r\n  @property({ reflect: true, type: Boolean }) resizableSteps: boolean = true;\r\n  @property({ reflect: true, type: Boolean }) movableStepsBetweenRows: boolean = true;\r\n  @property({ reflect: true, type: Boolean }) touching: boolean = false;\r\n\r\n  /** Tap time window defines the maximum time in milliseconds to detect a touch as a tap after touchStart event is triggered. */\r\n  tapTimeWindow: number = 400; // ms\r\n  /** ignoreTouchTimeWindow defines time window in milliseconds to wait before allowing step move/resize/tap to happen for benefit of scrolling. */\r\n  ignoreTouchTimeWindow: number = 200; // ms\r\n  /** ignoreMouseEventsMaxTime defines time in milliseconds to wait after touchEnd and touchCancel to re-enable mouse events. \r\n   * Touch start does not call preventDefault() to allow native scrolling work smoothly. Mouse events that are initiated by touch events as a \r\n   * backup are handled with ignoreMouseEvents boolean flag. */\r\n  ignoreMouseEventsMaxTime: number = 1000; // ms\r\n  ignoreMouseEvents: boolean = false;\r\n  ignoreMouseEventsId: any;\r\n\r\n  /** autoScrollStepSize defiens how many pixels to scroll automatically when moving to container edges. */\r\n  autoScrollStepSize: number = 10;\r\n  /** autoScrollAreaSize defines size of the area in pixels that enables automatic scrolling. */\r\n  autoScrollAreaSize: number = 5;\r\n\r\n  _eventTargetStep: GanttStepElement;\r\n  touchStartTapTimeoutId: any;\r\n  touchStartTimeoutId: any;\r\n  movePoint: [number, number];\r\n  capturePoint: [number, number];\r\n  capturePointLeftPercentage: string;\r\n  capturePointWidthPercentage: string;\r\n  capturePointLeftPx: number;\r\n  capturePointTopPx: number;\r\n  capturePointTopRelativeToContentPx: number;\r\n  capturePointWidthPx: number;\r\n  resizingFromLeft: boolean;\r\n  insideTapTimeWindow: boolean = true;\r\n  touchStartTime: number;\r\n\r\n  // additional element that appears when moving or resizing\r\n  @query('#mv-el')\r\n  moveElement: HTMLDivElement;\r\n\r\n  private isInsideTouchTimeWindow(): boolean {\r\n    return this.ignoreTouchTimeWindow > 0 && (Date.now() - this.touchStartTime) <= this.ignoreTouchTimeWindow;\r\n  }\r\n\r\n  // touchstart is fired before mousedown\r\n  public handleTouchStart(event: TouchEvent) {\r\n    if (event.touches.length != 1) { return; }\r\n    if(this.touchStartTime === Date.now()) {\r\n      return;\r\n    }\r\n    clearTimeout(this.ignoreMouseEventsId);\r\n    this.ignoreMouseEvents = true;\r\n    this.touchStartTime = Date.now();\r\n    this.insideTapTimeWindow = true;\r\n    if (event.target instanceof GanttStepElement) {\r\n      this.setEventCapturePoint(event, <GanttStepElement>event.target);\r\n      this.addEventListener('touchend', this._handleTouchEnd);\r\n      let self = this;\r\n      this.touchStartTimeoutId = setTimeout(() => {\r\n        this.touching = true;\r\n        self.addEventListener('touchmove', self._handleTouchMove);\r\n        self.addEventListener('touchcancel', self._handleTouchCancel);\r\n        self.updateMoveElementFor(self._eventTargetStep);\r\n      }, this.ignoreTouchTimeWindow);\r\n      this.touchStartTapTimeoutId = setTimeout(() => {\r\n        self.insideTapTimeWindow = false;\r\n      }, this.tapTimeWindow);\r\n\r\n    } else if(event.target === this) {\r\n      this.touching = true;\r\n      this.setEventCapturePoint(event, null);\r\n      this.addEventListener('touchend', this._handleTouchEnd);\r\n      let self = this;\r\n      this.touchStartTapTimeoutId = setTimeout(() => {\r\n        self.insideTapTimeWindow = false;\r\n      }, this.tapTimeWindow);\r\n      this.addEventListener('touchmove', this._handleTouchMove);\r\n      this.addEventListener('touchcancel', this._handleTouchCancel);\r\n    }\r\n  }\r\n\r\n  private _handleTouchEnd(event: TouchEvent) {\r\n    if(!this.touching || this.isInsideTouchTimeWindow()) {\r\n      this._doHandleTouchEnd(() => {});\r\n    } else {\r\n      let self = this;\r\n      this._doHandleTouchEnd(() => {\r\n        if (self.insideTapTimeWindow && (!(event.target instanceof GanttStepElement)\r\n          || self._eventTargetStep === self.findStepByAnotherStepEvent(self._eventTargetStep, event))) {\r\n            self._handleTap(event);\r\n        } else if(!this.isInsideTouchTimeWindow()) {\r\n          if(self.insideTapTimeWindow && event.target instanceof GanttStepElement) {\r\n            // this is not done yet at this point because move event handler is not enabled when insideTapTimeWindow=true\r\n            self.handleMoveOrResize(event);\r\n          }\r\n          self.handleMouseOrTouchUp(event);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private _doHandleTouchEnd(operation: Function) {\r\n    clearTimeout(this.touchStartTimeoutId);\r\n    clearTimeout(this.touchStartTapTimeoutId);\r\n\r\n    this.removeEventListener('touchend', this._handleTouchEnd);\r\n    this.removeEventListener('touchmove', this._handleTouchMove);\r\n    this.removeEventListener('touchcancel', this._handleTouchCancel);\r\n    try {\r\n      operation();\r\n    } finally {\r\n      this.touching = false;\r\n      this.insideTapTimeWindow = true;\r\n      this.deferredResetIgnoreMouseEvents();\r\n      this.clearEventCapturePoint();\r\n      this.hideMoveElement();\r\n    }\r\n  }\r\n\r\n  private _handleTouchMove(event: TouchEvent) {\r\n    if(this.isInsideTouchTimeWindow()) {\r\n      this.touchStartTime = Date.now();\r\n      this._doHandleTouchEnd(() => {});\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    if(this.handleMoveOrResize(event)) {\r\n      // Prevent the browser from processing emulated mouse events.\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  private _handleTouchCancel(event: TouchEvent) {\r\n    clearTimeout(this.touchStartTimeoutId);\r\n    clearTimeout(this.touchStartTapTimeoutId);\r\n    this.touching = false;\r\n    this.deferredResetIgnoreMouseEvents();\r\n    this.clearEventCapturePoint();\r\n    this.hideMoveElement();\r\n    \r\n  }\r\n\r\n  public handleMouseDown(event: MouseEvent) {\r\n    if(this.ignoreMouseEvents) {\r\n       return;\r\n    }\r\n    if (event.target instanceof GanttStepElement) {\r\n      this.setEventCapturePoint(event, <GanttStepElement>event.target);\r\n      this.addEventListener('mouseup', this._handleMouseUp);\r\n      this.addEventListener('mousemove', this._handleMouseMove);\r\n      window.addEventListener('mouseup', this._handleMouseUpOutside);\r\n      window.GanttElementEvents = this;\r\n    } else if(event.target === this) {\r\n      this.setEventCapturePoint(event, null);\r\n      this.addEventListener('mouseup', this._handleMouseUp);\r\n      window.addEventListener('mouseup', this._handleMouseUpOutside);\r\n      window.GanttElementEvents = this;\r\n    }\r\n  }\r\n\r\n  public _handleMouseUp(event: MouseEvent) {\r\n    if(this.ignoreMouseEvents) {\r\n      return;\r\n    }\r\n    if(!this.movePoint) {\r\n      this.movePoint = GanttUtil.getPointForEvent(event, this._container);\r\n    }\r\n    if(this.capturePoint && this.movePoint && this.capturePoint[0] == this.movePoint[0] && this.capturePoint[1] == this.movePoint[1])  {\r\n      this._handleTap(event);\r\n    } else {\r\n      this.handleMouseOrTouchUp(event);\r\n    }\r\n    this.endMouseEvent();\r\n    event.stopPropagation();\r\n  }\r\n\r\n  private _handleMouseUpOutside(event: MouseEvent) {\r\n    if(!window.GanttElementEvents) {\r\n      console.error(\"Attempted to end Gantt mouse events without window.GanttElementEvents target gantt element\");\r\n      return;\r\n    }\r\n    let target = window.GanttElementEvents;\r\n    target.resetStepPosition(target._eventTargetStep);\r\n    target.hideMoveElement();\r\n    target.endMouseEvent();\r\n  }\r\n\r\n  private _handleMouseMove(event: MouseEvent) {\r\n    if(this.ignoreMouseEvents) {\r\n      return;\r\n    }\r\n    this.handleMoveOrResize(event);\r\n  }\r\n\r\n  private _handleTap(event: Event) {\r\n    if(event.target instanceof GanttStepElement) {\r\n      this.dispatchEvent(new CustomEvent(\"ganttStepClick\", {\r\n        detail: {\r\n          uid: event.target.uid,\r\n          start: formatInTimeZone(event.target.start, this.getTimeZone(), \"yyyy-MM-dd'T'HH:mm:ss\"),\r\n          end: formatInTimeZone(event.target.end, this.getTimeZone(), \"yyyy-MM-dd'T'HH:mm:ss\"),\r\n          step: event.target,\r\n          event: event\r\n        }\r\n      }));\r\n    } else {\r\n      this.dispatchEvent(new CustomEvent(\"ganttBackgroundClick\", {\r\n        detail: {\r\n          index: this.findStepIndexAt(GanttUtil.getPageY(event, this._container) - (this._container.offsetTop + this.offsetTop)),\r\n          date: formatInTimeZone(this._timeline.getDateForLeftPosition(GanttUtil.getPageX(event, this._container) - (this._container.offsetLeft + this.offsetLeft)), this.getTimeZone(), \"yyyy-MM-dd'T'HH:mm:ss\"),\r\n          event: event\r\n        }\r\n      }));\r\n    }\r\n    this.hideMoveElement();\r\n  }\r\n\r\n  private handleMoveOrResize(event: Event): boolean {\r\n    this.movePoint = GanttUtil.getPointForEvent(event, this._container);\r\n\r\n    if (!this._eventTargetStep) { return false; }\r\n\r\n    // calculate delta x and y by original position and the current one.\r\n    let deltax: number = GanttUtil.getPageX(event, this._container) - this.capturePoint[0];\r\n    let deltay: number = GanttUtil.getPageY(event, this._container) - this.capturePoint[1];\r\n\r\n    if (this._eventTargetStep.resizing) {\r\n      if (this.resizingFromLeft) {\r\n        this.updateStepResizingLeft(this._eventTargetStep, deltax);\r\n      } else {\r\n        this.updateStepResizingRight(this._eventTargetStep, deltax);\r\n      }\r\n      this.updateMoveElementFor(this._eventTargetStep);\r\n\r\n    } else if (this._eventTargetStep.moving) {\r\n      if(this.movableSteps) {\r\n        this.moveStepHorizontally(this._eventTargetStep, deltax);\r\n        this.updateMoveElementFor(this._eventTargetStep);\r\n      }\r\n      if (this.movableStepsBetweenRows) {\r\n        this.updateStepYPosition(this._eventTargetStep, deltay);\r\n      }\r\n\r\n      this.autoScroll();\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private handleMouseOrTouchUp(event: Event) {\r\n    if (!this._eventTargetStep) { \r\n      this.hideMoveElement();\r\n      return; \r\n    }\r\n\r\n    if (this._eventTargetStep.resizing) {\r\n      console.log(\"Resizing done\");\r\n      this.internalMoveOrResizeCompleted(this._eventTargetStep, null, false, event);\r\n    } else if (this._eventTargetStep.moving) {\r\n      console.log(\"Moving done\");\r\n      this.moveCompleted(this._eventTargetStep, GanttUtil.getPageY(event, this._container), event);\r\n    } else {\r\n      this.resetStepPosition(this._eventTargetStep);\r\n    }\r\n\r\n    this.hideMoveElement();\r\n  }\r\n\r\n  private autoScroll() {\r\n    if(this._container.scrollTop > 0 && this._getRelativeMovePointY() <= (this._container.scrollTop + this.autoScrollAreaSize)) {\r\n      this._container.scrollTop = Math.max(0, this._container.scrollTop - this.autoScrollStepSize);\r\n      return;\r\n    }\r\n    if(this._getRelativeMovePointY() >= (this._container.clientHeight + this._container.scrollTop - this.autoScrollAreaSize)) {\r\n      this._container.scrollTop = Math.min(this._container.scrollHeight - this._container.clientHeight, this._container.scrollTop + this.autoScrollStepSize);\r\n      return;\r\n    }\r\n    if(this._container.scrollLeft > 0 && this._getRelativeMovePointX() <= (this._container.scrollLeft + this.autoScrollAreaSize)) {\r\n      this._container.scrollLeft = Math.max(0, this._container.scrollLeft - this.autoScrollStepSize);\r\n      return;\r\n    }\r\n    if(this._getRelativeMovePointX() >= (this._container.clientWidth + this._container.scrollLeft - this.autoScrollAreaSize)) {\r\n      this._container.scrollLeft = Math.min(this._container.scrollWidth - this._container.clientWidth, this._container.scrollLeft + this.autoScrollStepSize);\r\n      return;\r\n    }\r\n  }\r\n\r\n  private deferredResetIgnoreMouseEvents() {\r\n    clearTimeout(this.ignoreMouseEventsId);\r\n    let self = this;\r\n    this.ignoreMouseEventsId = setTimeout(() => self.ignoreMouseEvents = false, this.ignoreMouseEventsMaxTime);\r\n  }\r\n\r\n  private endMouseEvent() {\r\n    this.clearEventCapturePoint();\r\n    this.removeEventListener('mouseup', this._handleMouseUp);\r\n    this.removeEventListener('mousemove', this._handleMouseMove);\r\n    window.removeEventListener('mouseup', this._handleMouseUpOutside);\r\n    window.GanttElementEvents = null;\r\n  }\r\n\r\n  private resetStepPosition(step: GanttStepElement) {\r\n    if (!step) { \r\n      return; \r\n    }\r\n    // step.style.backgroundColor = this.capturePointBgColor;\r\n    step.style.setProperty(\"left\", this.capturePointLeftPercentage);\r\n    step.style.setProperty(\"width\", this.capturePointWidthPercentage);\r\n    this.resetBarYPosition(step);\r\n  }\r\n\r\n  private resetBarYPosition(step: GanttStepElement) {\r\n    if(!step.substep) {\r\n      step.style.top = this.calculateNewStepYPosition(step) + \"px\";\r\n    } else {\r\n      // capturePointTopPx may be wrong sometimes, don't know why. TODO check this.getOffsetTop(step) for substeps.\r\n      step.style.top = this.capturePointTopPx + \"px\";\r\n    }\r\n  }\r\n\r\n  private calculateNewStepYPosition(step: GanttStepElement) {\r\n    // calculate current 'top' value based on other steps.\r\n    var rowIndex = this.getSteps().indexOf(step);\r\n    if(rowIndex > 0) {\r\n      return parseInt(this.getSteps()[rowIndex-1].style.top, 10) + getElementHeightWithMargin(this.getSteps()[rowIndex-1]);\r\n    } else if(this.getSteps().length > 1) {\r\n      return parseInt(this.getSteps()[rowIndex+1].style.top, 10) - getElementHeightWithMargin(step);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  private setEventCapturePoint(event: Event, step: GanttStepElement) {\r\n    this._eventTargetStep = step;\r\n    this.capturePoint = GanttUtil.getPointForEvent(event, this._container);\r\n    this.movePoint = null;\r\n    if (!step) {\r\n      return;\r\n    }\r\n    this.capturePointLeftPercentage = step.style.left;\r\n    this.capturePointWidthPercentage = step.style.width;\r\n    this.capturePointTopPx = this.getOffsetTop(step);\r\n    this.capturePointTopRelativeToContentPx = this.getOffsetTopContentElement(step);\r\n    this.capturePointLeftPx = step.offsetLeft;\r\n    this.capturePointWidthPx = step.clientWidth;\r\n\r\n    this.movePoint = [this.capturePoint[0], this.capturePoint[1]];\r\n    if (this.detectResizing(step)) {\r\n      step.resizing = true;\r\n      this.resizingFromLeft = this.isResizingLeft(step);\r\n    } else {\r\n      step.moving = (this.movableSteps || this.movableStepsBetweenRows) && step.movable;\r\n    }\r\n  }\r\n\r\n  private clearEventCapturePoint() {\r\n    if (this._eventTargetStep) {\r\n      if (this._eventTargetStep.moving) this._eventTargetStep.moving = false;\r\n      if (this._eventTargetStep.resizing) this._eventTargetStep.resizing = false;\r\n      this._eventTargetStep = null;\r\n    }\r\n  }\r\n\r\n  private detectResizing(step: GanttStepElement): boolean {\r\n    return this.resizableSteps && step.resizable && !step.classList.contains(\"has-sub-steps\") && (this.isResizingLeft(step) || this.isResizingRight(step));\r\n  }\r\n\r\n  private isResizingLeft(step: GanttStepElement): boolean {\r\n    if (step.substep) {\r\n      return this.movePoint[0] <= (this.getStepOffsetLeft(step) + GanttStepElement.RESIZE_WIDTH);\r\n    }\r\n    return this.movePoint[0] <= (this.getStepOffsetLeft(step) + GanttStepElement.RESIZE_WIDTH);\r\n  }\r\n\r\n  private isResizingRight(step: GanttStepElement): boolean {\r\n    if(step.substep) {\r\n      return this.movePoint[0] >= (this.getStepOffsetLeft(step)\r\n                            + step.offsetWidth\r\n                            + -GanttStepElement.RESIZE_WIDTH);\r\n    }\r\n    return this.movePoint[0] >= (this.getStepOffsetLeft(step) + step.offsetWidth + -GanttStepElement.RESIZE_WIDTH);\r\n  }\r\n\r\n  private getStepOffsetLeft(step: GanttStepElement): number {\r\n    if(step.substep) {\r\n      return this.offsetLeft + this.getContent().offsetLeft\r\n        + step.owner.offsetLeft + step.offsetLeft;\r\n    }\r\n    return this.offsetLeft + this._container.offsetLeft + step.offsetLeft;\r\n  }\r\n\r\n  private moveStepHorizontally(step: GanttStepElement, deltax: number) {\r\n    step.style.left = this.capturePointLeftPx + deltax + \"px\";\r\n  }\r\n\r\n  private updateMoveElementFor(step: GanttStepElement) {\r\n    if (!step) {\r\n      this.hideMoveElement();\r\n      return;\r\n    }\r\n    this.moveElement.style.removeProperty('display');\r\n\r\n    let styleLeft: string = step.style.left;\r\n    // use capturePointLeftPx as default\r\n    let left: number = this.capturePointLeftPx;\r\n    if (styleLeft && styleLeft.length > 2 && styleLeft.endsWith(\"px\")) {\r\n      // if target's 'left' is pixel value like '123px', use that.\r\n      // When target is already moved, then it's using pixel values. If\r\n      // it's not moved yet, it may use percentage value.\r\n      left = parseInt(styleLeft, 10);\r\n    }\r\n    if (step.substep) {\r\n      left += step.owner.offsetLeft;\r\n    }\r\n    left -= this._container.scrollLeft;\r\n\r\n    this.moveElement.style.left = left + \"px\";\r\n    this.moveElement.style.width = step.clientWidth + \"px\";\r\n    this.moveElement.style.height = this._ganttContainer.clientHeight + \"px\";\r\n  }\r\n\r\n  private hideMoveElement() {\r\n    this.moveElement.style.display = \"none\";\r\n  }\r\n\r\n  /*\r\n  * This is called when target step element is moved successfully. Element's\r\n  * CSS attributes 'left' and 'width' are updated (unit in pixels).\r\n  */\r\n  private moveCompleted(step: GanttStepElement, y: number, event: Event) {\r\n    let deltay: number = this.movableStepsBetweenRows ? y - this.capturePoint[1] : 0;\r\n\r\n    let newPosition: GanttStepElement = this.findStepByAnotherStepEvent(step, event);\r\n    this.internalMoveOrResizeCompleted(step, newPosition, true, event);\r\n  }\r\n\r\n  private findStepByAnotherStepEvent(step: GanttStepElement, event: Event) :GanttStepElement {\r\n    let y = GanttUtil.getPageY(event, this._container);\r\n    let deltay: number = this.movableStepsBetweenRows ? y - this.capturePoint[1] : 0;\r\n    return this.findStepElement(step, this.capturePointTopRelativeToContentPx,\r\n      (this.capturePointTopRelativeToContentPx + getElementHeightWithMargin(step)), y - (this._container.offsetTop + this.offsetTop),\r\n      deltay);\r\n  }\r\n\r\n  private internalMoveOrResizeCompleted(step: GanttStepElement, newPosition: GanttStepElement, move: boolean, event: Event) {\r\n    let newStepUid: string = step.uid;\r\n    if (newPosition && step !== newPosition) {\r\n      newStepUid = newPosition.uid;\r\n    }\r\n\r\n    let startDate: Date = step.start;\r\n    let endDate: Date = step.end;\r\n    if((move && this.movableSteps) || (!move && this.resizableSteps)) {\r\n      // calculate new start/end dates for moved/resized step\r\n      let left: number = parseInt(step.style.left, 10);\r\n      if (step.substep) {\r\n        left += step.owner.offsetLeft;\r\n      }\r\n      startDate = this._timeline.getDateForLeftPosition(left);\r\n      left += ElementUtil.getWidth(step);\r\n      endDate = this._timeline.getDateForLeftPosition(left);\r\n      step.start = startDate;\r\n      step.end = endDate;\r\n    }\r\n\r\n    if (move) {\r\n      if (this.movableStepsBetweenRows) {\r\n        if(step.substep) {\r\n          this.resetBarYPosition(step);\r\n        } else if (step.uid !== newStepUid) {\r\n          this.moveStepPosition(step, newStepUid);\r\n        } else {\r\n          this.resetBarYPosition(step);\r\n        }\r\n      }\r\n      this.dispatchEvent(new CustomEvent(\"ganttStepMove\", {\r\n        detail: {\r\n          uid: step.uid,\r\n          newUid: newStepUid,\r\n          start: formatInTimeZone(startDate, this.getTimeZone(), \"yyyy-MM-dd'T'HH:mm:ss\"),\r\n          end: formatInTimeZone(endDate, this.getTimeZone(), \"yyyy-MM-dd'T'HH:mm:ss\"),\r\n          step: step,\r\n          event: event\r\n        }\r\n      }));\r\n    } else {\r\n      this.dispatchEvent(new CustomEvent(\"ganttStepResize\", {\r\n        detail: {\r\n          uid: step.uid,\r\n          start: formatInTimeZone(startDate, this.getTimeZone(), \"yyyy-MM-dd'T'HH:mm:ss\"),\r\n          end: formatInTimeZone(endDate, this.getTimeZone(), \"yyyy-MM-dd'T'HH:mm:ss\"),\r\n          step: step,\r\n          event: event\r\n        }\r\n      }));\r\n    }\r\n  }\r\n\r\n  private moveStepPosition(step: GanttStepElement, newStepUid: string) {\r\n    // avoid editing this._steps directly here (let LitElement do it automatically when DOM structure changes)\r\n    let steps = [...this._steps];\r\n    let movedOverStep = steps.find(step => step.uid === newStepUid);\r\n    let movingOverSiblingBelow = steps.indexOf(step) + 1 === steps.indexOf(movedOverStep);\r\n    if (movedOverStep) {\r\n      let insertBeforeStep;\r\n      if(steps.indexOf(movedOverStep) + 1 >= steps.length) {\r\n        // move after the last step\r\n        insertBeforeStep = null;\r\n      } else if(movingOverSiblingBelow) {\r\n        insertBeforeStep = steps[steps.indexOf(movedOverStep) + 1];\r\n      } else {\r\n        insertBeforeStep = movedOverStep;\r\n      }\r\n      steps.splice(steps.indexOf(step), 1);\r\n      this.removeChild(step);\r\n      this.insertBefore(step, insertBeforeStep);\r\n    }\r\n  }\r\n\r\n  private updateStepYPosition(step: GanttStepElement, deltay: number) {\r\n    let stepHeight: number = getElementHeightWithMargin(step);\r\n    let offsetY: number = 0; // offset from content top edge\r\n    if (step.substep) {\r\n      offsetY = parseInt(step.owner.style.top, 10) || 0;\r\n    }\r\n    let stepTop: number = (parseInt(step.style.top, 10) || 0) + offsetY;\r\n    let maxStepEdgeDeltaUp: number = stepTop - this._getRelativeCapturePointY();\r\n    let maxStepEdgeDeltaDown: number = stepHeight + maxStepEdgeDeltaUp;\r\n\r\n    if (deltay <= maxStepEdgeDeltaUp) {\r\n      // move up\r\n      if ((stepTop - stepHeight) >= 0) {\r\n        step.style.top = stepTop - stepHeight - offsetY + \"px\";\r\n      }\r\n    } else if (deltay >= maxStepEdgeDeltaDown) {\r\n      // move down\r\n      step.style.top = Math.min(this.getContent().clientHeight - stepHeight, stepTop + stepHeight - offsetY) + \"px\";\r\n    }\r\n  }\r\n\r\n  private updateStepResizingRight(step: GanttStepElement, deltax: number) {\r\n    let newWidth: number = this.capturePointWidthPx + deltax;\r\n    if (newWidth >= GanttStepElement.RESIZE_WIDTH) {\r\n      step.style.left = this.capturePointLeftPx + \"px\";\r\n      step.style.width = newWidth + \"px\";\r\n    }\r\n  }\r\n\r\n  private updateStepResizingLeft(step: GanttStepElement, deltax: number) {\r\n    let newLeft: number = this.capturePointLeftPx + deltax;\r\n    let newWidth: number = this.capturePointWidthPx - deltax;\r\n    if (newWidth >= GanttStepElement.RESIZE_WIDTH) {\r\n      step.style.left = newLeft + \"px\";\r\n      step.style.width = newWidth + \"px\";\r\n    }\r\n  }\r\n\r\n  private _getRelativeCapturePointY(): number {\r\n    return this.capturePoint[1] - (this._container.offsetTop + this.offsetTop);\r\n  }\r\n\r\n  private _getRelativeMovePointY(): number {\r\n    return this.movePoint[1] - (this._container.offsetTop + this.offsetTop);\r\n  }\r\n\r\n  private _getRelativeMovePointX(): number {\r\n    return this.movePoint[0] - (this._container.offsetLeft + this.offsetLeft);\r\n  }\r\n}", "import { LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\n\r\ntype Constructor<T = object> = {\r\n    new(...args: any[]): T;\r\n    prototype: T;\r\n};\r\n\r\nexport interface BackgroundGridInterface {\r\n    backgroundGridEnabled: boolean;\r\n    useAlwaysPxSizeInBackground: boolean;\r\n    initGrid(container: HTMLElement, content: HTMLElement): void;\r\n    hideGrid(): void;\r\n    showGrid(): void;\r\n    setBackgroundSize(gridBlockWidth: string, gridBlockWidthPx: number, gridBlockHeightPx: number): void;\r\n    setBackgroundPosition(offsetX: string, offsetY: string, posXPx: number, posYPx: number): void;\r\n}\r\n\r\nexport const BackgroundGridMixin = <T extends Constructor<LitElement>>(\r\n    base: T\r\n): T & Constructor<BackgroundGridInterface> => {\r\n    class BackgroundGridMixin extends base implements BackgroundGridInterface {\r\n\r\n        @property() backgroundGridEnabled = true;\r\n        @property() useAlwaysPxSizeInBackground = false;\r\n\r\n        _bgcontainer: HTMLElement;\r\n\r\n        initGrid(container: HTMLElement, content: HTMLElement) {\r\n            this._bgcontainer = container;\r\n        }\r\n\r\n        hideGrid() {\r\n            this._bgcontainer.style.backgroundImage = \"none\";\r\n        }\r\n\r\n        showGrid() {\r\n            this._bgcontainer.style.removeProperty(\"background-image\");\r\n        }\r\n\r\n        setBackgroundSize(gridBlockWidth: string, gridBlockWidthPx: number, gridBlockHeightPx: number) {\r\n            this._bgcontainer.style.setProperty(\"background-size\", gridBlockWidth + \" \" + gridBlockHeightPx + \"px\");\r\n        }\r\n\r\n        setBackgroundPosition(offsetX: string, offsetY: string, posXPx: number, posYPx: number) {\r\n            this._bgcontainer.style.setProperty(\"background-position\", offsetX + \" \" + offsetY);\r\n        }\r\n    }\r\n    return BackgroundGridMixin;\r\n};", "import { LitElement, html, css } from 'lit';\r\nimport {property, customElement} from 'lit/decorators.js';\r\nimport { Resolution } from 'tltv-timeline-element/dist/src/model/Resolution.js';\r\nimport * as ElementUtil from 'tltv-timeline-element/dist/src/util/elementUtil.js';\r\nimport { GanttStepElement } from './gantt-step-element';\r\nimport { GanttEventsBase } from './gantt-events-base';\r\nimport { BackgroundGridMixin } from './css-background-grid-mixin';\r\nimport {getElementHeightWithMargin} from \"./util/ganttUtil\";\r\n\r\n\r\n@customElement('gantt-element')\r\nexport class GanttElement extends BackgroundGridMixin(GanttEventsBase) {\r\n\r\n  @property({ \r\n    reflect: true,\r\n    converter: {\r\n      fromAttribute: (value: string, type) => { \r\n        return <any>Resolution[<any>value];\r\n      },\r\n      toAttribute: (value: Resolution, type) => { \r\n        return <any>Resolution[value];\r\n      }\r\n    }\r\n  }) \r\n  public resolution: Resolution = Resolution.Day;\r\n  /* Inclusive start Date (hour accuracy) */\r\n  @property({ \r\n    reflect: true\r\n  }) \r\n  public start: string;\r\n  /* Inclusive end Date (hour accuracy) */\r\n  @property({ \r\n    reflect: true\r\n  }) \r\n  public end: string;\r\n  @property({ reflect: true}) \r\n  public zone: string = \"Europe/London\";\r\n  @property({ reflect: true}) \r\n  public locale: string = \"en-US\";\r\n  @property({ reflect: true}) firstDayOfWeek: number = 1; // sunday;\r\n  @property({ reflect: true, type: Boolean  }) twelveHourClock: boolean = false;\r\n\r\n  @property({ type: Boolean }) monthRowVisible: boolean = true;\r\n  @property({ type: Boolean }) yearRowVisible: boolean = true;\r\n  @property() monthNames: string[];\r\n  @property() weekdayNames: string[];\r\n\r\n\r\n  _resizeObserver = new ResizeObserver(() => {\r\n    this.updateSize();\r\n  });\r\n\r\n  scrollbarWidth = 18;\r\n\r\n  static get styles() {\r\n    return css`\r\n      :host {\r\n        display: block;\r\n        position: relative;\r\n\r\n        --grid-line-color: #eee;\r\n        --gantt-element-width: 100%;\r\n        --gantt-element-height: auto;\r\n\r\n        width: var(--gantt-element-width);\r\n        height: var(--gantt-element-height);\r\n      }\r\n\r\n      #gantt-container {\r\n        position: relative;\r\n        width: 100%;\r\n        user-select: none;\r\n        overflow: hidden;\r\n      }\r\n\r\n      #container {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        user-select: none;\r\n        overflow-x: hidden;\r\n        overflow-y: auto;\r\n        \r\n        background: var(--grid-line-color);\r\n        /* Webkit (Safari/Chrome 10) */\r\n        background: -webkit-gradient(linear, left top, right top, color-stop(1px, var(--grid-line-color)), color-stop(0, transparent)), -webkit-gradient(linear, left top, left bottom, color-stop(1px, var(--grid-line-color)), color-stop(0, transparent));\r\n        /* Webkit (Chrome 11+) */\r\n        background: -webkit-linear-gradient(var(--grid-line-color) 1px, transparent 0px), -webkit-linear-gradient(0deg, var(--grid-line-color) 1px, transparent 0px);\r\n        /* Mozilla Firefox */\r\n        background: -moz-linear-gradient(var(--grid-line-color) 1px, transparent 0px), -moz-linear-gradient(0deg, var(--grid-line-color) 1px, transparent 0px);\r\n        /* IE10 Consumer Preview */\r\n        background: -ms-linear-gradient(0deg, var(--grid-line-color) 1.1px, transparent 0px), -ms-linear-gradient(90deg, var(--grid-line-color) 1.1px, transparent 0px);\r\n        /* Opera */\r\n        background: -o-linear-gradient(var(--grid-line-color) 1px, transparent 0px), -o-linear-gradient(90deg, var(--grid-line-color) 1px, transparent 0px);\r\n        /* W3C Markup, IE10 Release Preview */\r\n        background: linear-gradient(0deg, var(--grid-line-color) 1px, transparent 0px), linear-gradient(90deg, var(--grid-line-color) 1.1px, transparent 0px);\r\n        \r\n        background-attachment: local;\r\n      }\r\n\r\n      #content {\r\n        position: relative;\r\n        overflow: hidden;\r\n      }\r\n\r\n      #mv-el {\r\n        position: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tz-index: 2;\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t\tborder-left: 1px dashed #999;\r\n        border-right: 1px dashed #999;\r\n        pointer-events: none;\r\n\t\t\t}\r\n    `;\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n    <div id=\"gantt-container\">\r\n      <timeline-element id=\"timeline\" scrollContainerId=\"container\"\r\n          .directlyInsideScrollContainer=\"${false}\"\r\n          .resolution=\"${this.resolution}\" \r\n          .startDateTime=\"${this.start}\" \r\n          .endDateTime=\"${this.end}\"\r\n          .timeZone=\"${this.zone}\"\r\n          .locale=\"${this.locale}\"\r\n          .firstDayOfWeek=\"${this.firstDayOfWeek}\"\r\n          .twelveHourClock=\"${this.twelveHourClock}\"\r\n          .monthRowVisible=\"${this.monthRowVisible}\"\r\n          .yearRowVisible=\"${this.yearRowVisible}\"\r\n          .monthNames=\"${this.monthNames}\"\r\n          .weekdayNames=\"${this.weekdayNames}\">\r\n      </timeline-element>\r\n      <div id=\"container\">\r\n        <div id=\"content\">\r\n          <slot @slotchange=${this.handleSlotchange}></slot>\r\n        </div>\r\n      </div>\r\n      <div id=\"mv-el\" style=\"display: none;\"></div>\r\n    </div>\r\n    `;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  firstUpdated(changedProperties: any) {\r\n    this.scrollbarWidth = this.calculateScrollbarWidth();\r\n    this.initGrid(this._container, this._content);\r\n    super.firstUpdated(changedProperties);\r\n    this._resizeObserver.observe(this);\r\n    this.addEventListener('touchstart', this._handleGanttTouchStart, { passive: true });\r\n    this.addEventListener('mousedown', this._handleGanttMouseDown);\r\n    this.dispatchEvent(new Event('gantt-element-ready'));\r\n  }\r\n\r\n  updated(changedProperties: any) {\r\n    if (changedProperties.has('resolution') \r\n    || changedProperties.has('start') \r\n    || changedProperties.has('end') \r\n    || changedProperties.has('yearRowVisible') \r\n    || changedProperties.has('monthRowVisible')) {\r\n      this.timelineUpdated();\r\n    }\r\n    else if (changedProperties.has('resizableSteps'))  {\r\n      this._steps.forEach(step => step.refresh());\r\n    }\r\n    \r\n    super.updated(changedProperties);\r\n  }\r\n\r\n  handleSlotchange(e: Event) {\r\n    super.handleSlotchange(e);\r\n\r\n    // to make sure that all steps are rendered before we calculate the height - in case that steps have margins around them\r\n    setTimeout(() => {\r\n      this.updateContentHeight();\r\n    });\r\n  }\r\n\r\n  public updateSize() {\r\n    let self = this;\r\n    this.getTimeline().then(timeline => {\r\n      timeline.updateWidths();\r\n      self.updateGanttContainerStyle();\r\n      self.updateContainerStyle();\r\n      self.updateContentWidth();\r\n    })\r\n  }\r\n\r\n  async timelineUpdated () {\r\n    await this._timeline.updateComplete;\r\n    this.updateContentWidth();\r\n    this._steps.forEach(step => step.refresh());\r\n    this.updateContainerStyle();\r\n  }\r\n  \r\n\r\n  public updateContentWidth() {\r\n    if((ElementUtil.getHeight(this.getContent()) > ElementUtil.getHeight(this._container))) {\r\n      this.getContent().style.width = ElementUtil.getWidth(this._timeline) - this.scrollbarWidth + \"px\";\r\n    } else {\r\n      this.getContent().style.width = ElementUtil.getWidth(this._timeline) + \"px\";\r\n    }\r\n  }\r\n\r\n  public updateContentHeight() {\r\n    let heightOfSteps = this._steps.map(step => getElementHeightWithMargin(step)).reduce((a, b) => a + b);\r\n    console.log(`GanttElement.updateContentHeight calculated ${heightOfSteps}px height for content by steps`);\r\n    this.getContent().style.height = heightOfSteps + 'px';\r\n  }\r\n\r\n  public calculateScrollbarWidth() {\r\n    const outer = document.createElement('div');\r\n    outer.style.visibility = 'hidden';\r\n    outer.style.overflow = 'scroll';\r\n    document.body.appendChild(outer);\r\n  \r\n    const inner = document.createElement('div');\r\n    outer.appendChild(inner);\r\n  \r\n    const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\r\n  \r\n    outer.parentNode.removeChild(outer);\r\n    return scrollbarWidth;\r\n  \r\n  }\r\n\r\n  private convertGanttHeightToContainerHeight() {\r\n    let ganttHeight = this.ownerDocument.defaultView.getComputedStyle(this).getPropertyValue(\"--gantt-element-height\");\r\n    if(ganttHeight && (ganttHeight.trim().endsWith(\"%\") || ganttHeight.trim().endsWith(\"vm\"))) {\r\n      return \"100%\"; // containers should fill whole available height when gantt height is in percentages\r\n    }\r\n    return ganttHeight;\r\n  }\r\n\r\n  private updateGanttContainerStyle() {\r\n    // gantt container height should always match with host element's height\r\n    this._ganttContainer.style.height = this.convertGanttHeightToContainerHeight();\r\n  }\r\n\r\n  private updateContainerStyle() {\r\n    // update container height based on timeline height\r\n    let ganttHeight = this.convertGanttHeightToContainerHeight();\r\n    let timelineHeight = ElementUtil.getHeight(this._timeline);\r\n    if(ganttHeight === \"auto\") {\r\n      this._container.style.height = \"auto\";\r\n    } else {\r\n      this._container.style.height = \"calc(\" + ganttHeight + \" - \" + timelineHeight + \"px)\";\r\n    }\r\n\r\n    if (this.backgroundGridEnabled) {\r\n      this.showGrid();\r\n    } else {\r\n      this.hideGrid();\r\n      return;\r\n    }\r\n\r\n    // Container element has a background image that is positioned, sized\r\n    // and repeated to fill the whole container with a nice grid background.\r\n\r\n    // Update 'background-size' in container element to match the background\r\n    // grid's cell width and height to match with the timeline and rows.\r\n    // Update also 'background-position' in container to match the first\r\n    // resolution element width in the timeline, IF it's not same as all\r\n    // other resolution element widths.\r\n    let resDivElementCount: number = this._timeline.resolutionDiv.childElementCount;\r\n    if (resDivElementCount == 0) {\r\n      return;\r\n    }\r\n    let secondResolutionBlock: HTMLElement = null;\r\n    let firstResolutionBlockWidth: number = this._timeline.getFirstResolutionElementWidth();\r\n    if (firstResolutionBlockWidth == null) {\r\n      return;\r\n    }\r\n    let secondResolutionBlockWidth: number = null;\r\n    if (resDivElementCount > 2) {\r\n      secondResolutionBlock = <HTMLElement>this._timeline.resolutionDiv.children[1];\r\n      secondResolutionBlockWidth = ElementUtil.getWidth(secondResolutionBlock);\r\n    }\r\n\r\n    let contentOverflowingHorizontally: boolean = this.isContentOverflowingHorizontally();\r\n\r\n    let adjustBgPosition: boolean = secondResolutionBlockWidth != null\r\n      && firstResolutionBlockWidth !== secondResolutionBlockWidth;\r\n    let gridBlockWidthPx: number = 0.0;\r\n    if (!adjustBgPosition) {\r\n      gridBlockWidthPx = firstResolutionBlockWidth;\r\n    } else {\r\n      gridBlockWidthPx = secondResolutionBlockWidth;\r\n    }\r\n\r\n    this.updateContainerBackgroundSize(contentOverflowingHorizontally, gridBlockWidthPx);\r\n\r\n    this.updateContainerBackgroundPosition(firstResolutionBlockWidth, contentOverflowingHorizontally, gridBlockWidthPx,\r\n      adjustBgPosition);\r\n  }\r\n\r\n  private updateContainerBackgroundSize(contentOverflowingHorizontally: boolean, gridBlockWidthPx: number) {\r\n    let gridBlockWidth: string = null;\r\n    if (contentOverflowingHorizontally || this.useAlwaysPxSizeInBackground) {\r\n      gridBlockWidth = gridBlockWidthPx + \"px\";\r\n    } else {\r\n      let contentWidth: number = ElementUtil.getWidth(this.getContent());\r\n      gridBlockWidth = (100.0 / contentWidth) * gridBlockWidthPx + \"%\";\r\n    }\r\n\r\n    let gridBlockHeightPx: number = this.getBgGridCellHeight();\r\n    this.setBackgroundSize(gridBlockWidth, gridBlockWidthPx, gridBlockHeightPx);\r\n  }\r\n\r\n  private updateContainerBackgroundPosition(firstResolutionBlockWidth: number,\r\n    contentOverflowingHorizontally: boolean, gridBlockWidthPx: number, adjustBgPosition: boolean) {\r\n    if (adjustBgPosition) {\r\n      let realBgPosXPx: number = firstResolutionBlockWidth - 1.0;\r\n\r\n      if (this.useAlwaysPxSizeInBackground || contentOverflowingHorizontally) {\r\n        this.setBackgroundPosition(realBgPosXPx + \"px\", \"0px\", realBgPosXPx,\r\n          0);\r\n      } else {\r\n        let timelineWidth: number = this._timeline.calculateTimelineWidth();\r\n        let relativeBgAreaWidth: number = timelineWidth - gridBlockWidthPx;\r\n        let bgPosX: number = (100.0 / relativeBgAreaWidth) * realBgPosXPx;\r\n        this.setBackgroundPosition(bgPosX + \"%\", \"0px\", realBgPosXPx, 0);\r\n      }\r\n    } else {\r\n      this.setBackgroundPosition(\"-1px\", \"0\", -1, 0);\r\n    }\r\n  }\r\n\r\n  private getBgGridCellHeight(): number {\r\n    let gridBlockHeightPx: number = 0;\r\n    let firstStepIndex: number = 0;\r\n    if (firstStepIndex < this.getSteps().length) {\r\n      let firstStep: GanttStepElement = this.getSteps()[firstStepIndex];\r\n      gridBlockHeightPx = getElementHeightWithMargin(firstStep);\r\n      if ((this.getContentHeight() % gridBlockHeightPx) != 0) {\r\n        // height is not divided evenly for each bar.\r\n        // Can't use background grid with background-size trick.\r\n        gridBlockHeightPx = 0;\r\n      }\r\n    }\r\n    return gridBlockHeightPx;\r\n  }\r\n\r\n  /**\r\n  * Return true, if content is overflowing horizontally. This means also that\r\n  * horizontal scroll bar is visible.\r\n  */\r\n  public isContentOverflowingHorizontally(): boolean {\r\n    // state of horizontal overflow is handled by timeline widget\r\n    if (!this._content || !this._container || !this._timeline) {\r\n      return false;\r\n    }\r\n    return this._timeline.isTimelineOverflowingHorizontally();\r\n  }\r\n\r\n  /**\r\n  * Return true, if content is overflowing vertically.This means also that\r\n  * vertical scroll bar is visible.\r\n  */\r\n  public isContentOverflowingVertically(): boolean {\r\n    if (!this._content || !this._container) {\r\n      return false;\r\n    }\r\n    return this._container.scrollHeight > this._container.clientHeight;\r\n  }\r\n\r\n  private _handleGanttTouchStart(event: TouchEvent) {\r\n    this.handleTouchStart(event);\r\n  }\r\n\r\n  private _handleGanttMouseDown(event: MouseEvent) {\r\n    this.handleMouseDown(event);\r\n  }\r\n}"],
  "mappings": "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",
  "names": ["requiredArgs", "isDate", "_typeof", "obj", "toDate", "_typeof", "obj", "isValid", "toInteger", "addMilliseconds", "subMilliseconds", "MILLISECONDS_IN_DAY", "MILLISECONDS_IN_WEEK", "getDefaultOptions", "setDefaultOptions", "MILLISECONDS_IN_WEEK", "addLeadingZeros", "formatters", "milliseconds", "formatters", "formatTimezoneWithOptionalMinutes", "formatTimezone", "formatTimezoneShort", "dateLongFormatter", "timeLongFormatter", "dateTimeLongFormatter", "getTimezoneOffsetInMilliseconds", "format", "formatDistance", "format", "formatRelative", "ordinalNumber", "format", "assign", "property", "cloneObject", "Resolution", "GanttTimelineMixin", "MILLISECONDS_IN_MINUTE", "MILLISECONDS_IN_HOUR", "MILLISECONDS_IN_MINUTE", "patterns", "toDate", "toInteger", "getTimezoneOffsetInMilliseconds", "isLeapYear", "toDate", "dateFnsFormat", "toDate", "cloneObject", "import_cloneObject", "__decorate", "toDate", "__decorate", "GanttStepElement", "__decorate", "Weekday", "addHours", "MILLISECONDS_IN_MINUTE", "TimelineElement", "toDate", "day", "date", "year", "startDate", "left", "even", "__decorate", "GanttScrollerMixin", "__decorate", "__decorate", "step", "__decorate", "BackgroundGridMixin", "__decorate", "GanttElement", "__decorate"]
}
